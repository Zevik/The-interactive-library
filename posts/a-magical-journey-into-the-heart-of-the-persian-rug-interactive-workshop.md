---
title: "מסע קסום אל לב השטיח הפרסי: סדנת אנימציה אינטראקטיבית"
english_slug: a-magical-journey-into-the-heart-of-the-persian-rug-interactive-workshop
category: "כללי"
tags:
  - שטיח פרסי
  - אריגה מסורתית
  - אומנות יד
  - תהליך יצירה
  - פרס
---
<h1>מסע קסום אל לב השטיח הפרסי: סדנת אנימציה אינטראקטיבית</h1>
<p>הצטרפו אלינו למסע מרתק אל מאחורי הקלעים של יצירת שטיח פרסי מסורתי. גלו את סודות המלאכה העתיקה הזו, משלב חומרי הגלם הראשוניים ועד ליצירת האומנות המוגמרת הפרוסה לרגליכם. כל שטיח הוא סיפור, יצירה של אומנות וסבלנות. בואו נחווה יחד את השלבים העיקריים בתהליך!</p>

<div class="persian-rug-app-container">
    <div class="steps-timeline">
        <div class="step active" data-step="intro">
             <div class="step-icon">✨</div>
            <div class="step-label">התחלה</div>
        </div>
        <div class="line"></div>
        <div class="step" data-step="materials">
            <div class="step-icon">🐑</div>
            <div class="step-label">חומרי גלם</div>
        </div>
        <div class="line"></div>
        <div class="step" data-step="dyeing">
            <div class="step-icon">🌈</div>
            <div class="step-label">צביעה</div>
        </div>
        <div class="line"></div>
        <div class="step" data-step="loom">
            <div class="step-icon">🛠️</div>
            <div class="step-label">הכנת הנול</div>
        </div>
        <div class="line"></div>
        <div class="step" data-step="knotting">
            <div class="step-icon">🧵</div>
            <div class="step-label">קשירה</div>
        </div>
        <div class="line"></div>
        <div class="step" data-step="finishing">
            <div class="step-icon">✂️</div>
            <div class="step-label">גימור</div>
        </div>
    </div>
    <div class="animation-area">
         <div class="animation-stage" id="animation-stage">
            <!-- Animation content will be injected/managed here by JS -->
            <div class="intro-stage">
                <p>לחצו על שלב בציר הזמן למעלה כדי לראות סימולציה קצרה של תהליך יצירת השטיח הפרסי.</p>
                 <div class="rug-placeholder">
                    <div class="knot knot1"></div><div class="knot knot2"></div><div class="knot knot3"></div>
                    <div class="thread thread1"></div><div class="thread thread2"></div>
                 </div>
            </div>
             <div class="materials-stage">
                 <div class="material sheep">🐑</div>
                 <div class="material silk">🐛</div>
                 <div class="material cotton">🌿</div>
                 <div class="materials-bundle"></div>
             </div>
             <div class="dyeing-stage">
                 <div class="yarn-bundle"></div>
                 <div class="vat vat1"></div>
                 <div class="vat vat2"></div>
                 <div class="vat vat3"></div>
                 <div class="dyed-yarn"></div>
             </div>
             <div class="loom-stage">
                 <div class="loom-frame"></div>
                 <div class="warp-threads"></div>
             </div>
              <div class="knotting-stage">
                <div class="weaving-grid"></div>
                <div class="hand-tool">✋</div>
             </div>
             <div class="finishing-stage">
                 <div class="finished-rug-base"></div>
                 <div class="shears">✂️</div>
                 <div class="wash-symbol">💦</div>
                 <div class="sun-symbol">☀️</div>
             </div>
        </div>
    </div>
</div>

<button id="toggle-explanation-btn">ללמוד עוד: הסבר מפורט על התהליך וההיסטוריה</button>

<div id="explanation-section">
    <h2>עומק הקשר: הסבר מפורט על יצירת שטיח פרסי</h2>
    <p>אריגת שטיחים בפרס (כיום איראן) היא מסורת ששורשיה נטועים עמוק באלפי שנות היסטוריה, שהתפתחה מצרך שימושי לאומנות מלכותית וסמל תרבותי.</p>
    <ul>
        <li><strong>חומרי הקסם:</strong> הליבה היא צמר טהור ואיכותי, לרוב מזנים מקומיים הידועים בעמידותם ובברקם. לשטיחי יוקרה משתמשים בחוטי משי עדינים, ואילו כותנה משמשת בדרך כלל לבסיס חזק ויציב (השתי והעריבה). איכות חומר הגלם היא המפתח לעמידות ולמראה המרהיב של השטיח לאורך שנים.</li>
        <li><strong>פלטת הצבעים של הטבע:</strong> מסורתית, הצבעים מופקים ממקורות טבעיים בלבד – שורשים, עלים, פרחים, קליפות עצים ואפילו חרקים (כמו כנימת קוצ'יניל לצבע האדום). תהליך הצביעה ארוך ומורכב, ודורש מיומנות רבה להשגת גוונים עשירים, עמידים ועמוקים שהופכים יפים יותר עם הזמן (בלוּז' - abrash).</li>
        <li><strong>שלד היצירה: הנול:</strong> הנול הוא המבנה התומך שעליו נוצר השטיח. הוא יכול להיות אנכי או אופקי, ועליו נמתחים חוטי השתי (חוטי האורך) בצפיפות מדויקת. דיוק בהכנת הנול ובמתיחת החוטים חיוני כדי שהשטיח יהיה ישר ובעל צפיפות אחידה.</li>
        <li><strong>אומנות הקשר:</strong> זהו לב תהליך האריגה. האורג קושר ידנית כל קשר וקשר סביב חוטי השתי, לפי מפת הדוגמה המורכבת. שתי טכניקות הקשירה העיקריות הן הקשר הפרסי (סנה - Sehna) שנכרך סביב חוט שתי אחד, והקשר הטורקי (ג'ופטי - Jufti) שנכרך סביב שני חוטי שתי. קשר הסנה מאפשר פירוט וצפיפות גבוהים יותר, אידיאלי לדוגמאות מורכבות.</li>
        <li><strong>הסוד שבצפיפות:</strong> איכות וערך השטיח נמדדים פעמים רבות לפי צפיפות הקשרים – מספר הקשרים לסנטימטר מרובע. ככל שהצפיפות גבוהה יותר, כך הדוגמה יכולה להיות מפורטת ומורכבת יותר, השטיח עמיד וצפוף יותר למגע, וזמן העבודה עליו ארוך בהרבה. שטיחים עשויים משי יכולים להגיע לצפיפות קשרים של למעלה ממיליון קשרים למטר מרובע!</li>
        <li><strong>הטאץ' הסופי:</strong> גמר השטיח כולל גזירה מדויקת של ערימת הצמר לגובה אחיד (פעולה שמעניקה לשטיח את המרקם הקטיפתי), שטיפה יסודית (המנקה, מרככת ומבליטה את צבעי הצמר), וייבוש טבעי באוויר הפתוח. שלבים אלו חיוניים להשלמת המראה והתחושה של יצירת האומנות.</li>
        <li><strong>שטיח מספר סיפור:</strong> כל דוגמה, סמל וצבע בשטיח הפרסי נושאים משמעות עמוקה, המשקפת את התרבות, האמונות, הטבע וההיסטוריה של האזור או השבט שיצר אותו. מדליונים מרכזיים, דוגמאות בוטניות (פרחים, ענפים), דמויות בעלי חיים או סצנות ציד, ומוטיבים גיאומטריים – כולם חלק משפה ויזואלית עשירה.</li>
        <li><strong>ידי האומנים:</strong> אריגת שטיחים היא לרוב מלאכה משפחתית או קהילתית, העוברת מדור לדור. מיומנות, סבלנות ואהבה למלאכה חיוניים ליצירת שטיח איכותי. הכבוד למסורת ולאומנים הוא חלק בלתי נפרד מהערך של שטיח פרסי אמיתי.</li>
    </ul>
</div>

<style>
    :root {
        --primary-color: #a0522d; /* Earthy brown/red */
        --secondary-color: #deb887; /* Light brown/tan */
        --accent-color: #556b2f; /* Dark olive green */
        --text-color: #333;
        --bg-color: #fdf5e6; /* Light parchment */
        --border-color: #cd853f; /* Medium brown */
    }

    .persian-rug-app-container {
        font-family: 'Arial', sans-serif; /* Or a more elegant font if available */
        direction: rtl;
        text-align: right;
        margin-top: 30px;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        padding: 20px;
        background-color: var(--bg-color);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        overflow: hidden; /* Clear floats/animations */
    }

    h1 {
        color: var(--primary-color);
        text-align: center;
        margin-bottom: 20px;
    }

    .steps-timeline {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding: 0 10px;
        flex-wrap: wrap; /* Allow wrapping on smaller screens */
        position: relative; /* For line positioning */
    }

    .step {
        flex: 0 0 auto; /* Prevent shrinking */
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        transition: transform 0.3s ease, color 0.3s ease, background-color 0.3s ease;
        padding: 10px;
        border-radius: 8px;
        min-width: 90px; /* Give steps some minimum width */
        text-align: center;
        background-color: rgba(255, 255, 255, 0.6);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        border: 1px solid var(--secondary-color);
        position: relative; /* For pseudo-elements/active state */
        z-index: 1; /* Ensure steps are above the line */
    }

     .step:hover {
        transform: translateY(-7px);
        color: var(--accent-color);
        background-color: rgba(255, 255, 255, 0.9);
    }

    .step.active {
        background-color: var(--secondary-color);
        color: var(--primary-color);
        font-weight: bold;
        transform: scale(1.05);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .step-icon {
        font-size: 2.2em;
        margin-bottom: 5px;
    }

    .step-label {
        font-size: 0.9em;
        font-weight: bold;
        line-height: 1.2;
    }

    .line {
        flex-grow: 1; /* Line takes up available space */
        height: 3px;
        background: linear-gradient(to left, var(--primary-color), var(--secondary-color));
        margin: 0 -5px; /* Overlap slightly with steps */
        min-width: 10px; /* Ensure line is visible */
        position: relative;
        z-index: 0;
    }

    /* Hide line if steps wrap */
    @media (max-width: 650px) {
        .line {
            display: none;
        }
        .steps-timeline {
             flex-direction: column;
        }
        .step {
            margin-bottom: 15px; /* Add space between wrapped steps */
            width: 100%; /* Steps take full width when stacked */
            box-sizing: border-box; /* Include padding/border in width */
        }
         .persian-rug-app-container {
             padding: 15px;
         }
    }


    .animation-area {
        border: 2px dashed var(--accent-color);
        padding: 20px;
        border-radius: 8px;
        min-height: 250px; /* Increased height for animation */
        background-color: rgba(255, 255, 255, 0.7);
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative; /* For absolute positioning of stage content */
        overflow: hidden; /* Hide overflowing animation elements */
    }

    .animation-stage {
         width: 100%;
         height: 100%;
         position: absolute;
         top: 0;
         left: 0;
         display: flex;
         justify-content: center;
         align-items: center;
         overflow: hidden;
    }

    .animation-stage > div {
        position: absolute;
        width: 90%;
        height: 90%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.6s ease-in-out;
         background-color: transparent; /* Default background */
    }

     .animation-stage > div.active {
        opacity: 1;
        position: static; /* Active element takes up space for layout */
     }

    /* --- Intro Stage --- */
    .intro-stage p {
         font-size: 1.2em;
         color: var(--text-color);
         margin-bottom: 20px;
    }
     .rug-placeholder {
        width: 100px;
        height: 150px;
        background-color: var(--primary-color);
        border: 5px solid var(--accent-color);
        border-radius: 5px;
        position: relative;
        overflow: hidden;
         display: flex;
         flex-direction: column;
         align-items: center;
         justify-content: space-around;
         padding: 10px 0;
     }
    .knot, .thread {
         background-color: var(--secondary-color);
         width: 80%;
         height: 8px;
         margin: 3px 0;
         border-radius: 2px;
         opacity: 0.7;
         animation: pulse 2s infinite ease-in-out;
     }
     .thread {
         background-color: #fff;
         height: 4px;
     }

     @keyframes pulse {
         0% { transform: scale(1); opacity: 0.7; }
         50% { transform: scale(1.05); opacity: 1; }
         100% { transform: scale(1); opacity: 0.7; }
     }


     /* --- Materials Stage --- */
    .materials-stage {
         display: flex;
         flex-direction: row;
         justify-content: space-around;
         align-items: center;
         width: 100%;
         height: 100%;
     }
    .materials-stage .material {
         font-size: 4em;
         opacity: 0;
         transform: translateY(20px);
         transition: opacity 0.8s ease-out, transform 0.8s ease-out;
     }
    .materials-stage.active .material {
        opacity: 1;
        transform: translateY(0);
    }
    .materials-stage.active .material.sheep { transition-delay: 0.2s; }
    .materials-stage.active .material.silk { transition-delay: 0.4s; }
    .materials-stage.active .material.cotton { transition-delay: 0.6s; }

    .materials-bundle {
        width: 80px;
        height: 80px;
        background-color: rgba(var(--secondary-color), 0.5);
        border: 3px dashed var(--primary-color);
        border-radius: 50%;
        margin-left: 30px; /* Space between materials and bundle */
        opacity: 0;
        transform: scale(0.5);
        transition: opacity 0.8s ease-out 1s, transform 0.8s ease-out 1s;
    }

    .materials-stage.active .materials-bundle {
        opacity: 1;
        transform: scale(1);
    }

    /* --- Dyeing Stage --- */
    .dyeing-stage {
         display: flex;
         justify-content: space-around;
         align-items: flex-end;
         width: 100%;
         height: 100%;
         padding-bottom: 20px;
     }
     .yarn-bundle {
         width: 60px;
         height: 60px;
         background-color: rgba(var(--secondary-color), 0.8);
         border: 2px solid var(--primary-color);
         border-radius: 4px;
         position: absolute;
         left: 10%;
         bottom: 50%;
         opacity: 1;
         transition: bottom 1s ease-in, opacity 1s ease-in;
     }
     .dyeing-stage.active .yarn-bundle {
         bottom: 20%; /* Move down towards vats */
         opacity: 0; /* Disappear as it's 'used' */
     }

     .vat {
         width: 70px;
         height: 100px;
         border: 3px solid var(--border-color);
         border-top: none;
         border-radius: 0 0 15px 15px;
         background-color: rgba(255, 255, 255, 0.8);
         position: relative;
         overflow: hidden;
     }
    .vat::before {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: transparent;
         transition: background-color 1s ease-in-out;
     }
     .vat1::before { background-color: rgba(205, 92, 92, 0.8); } /* Indian Red */
     .vat2::before { background-color: rgba(60, 179, 113, 0.8); } /* Medium Sea Green */
     .vat3::before { background-color: rgba(72, 61, 139, 0.8); } /* Dark Slate Blue */

     .dyed-yarn {
         width: 120px;
         height: 80px;
         background: linear-gradient(to right,
             rgba(205, 92, 92, 0.9), /* Red */
             rgba(60, 179, 113, 0.9), /* Green */
             rgba(72, 61, 139, 0.9)  /* Blue */
         );
         border: 2px solid var(--primary-color);
         border-radius: 8px;
         position: absolute;
         right: 10%;
         bottom: 50%;
         opacity: 0;
         transform: translateX(50px);
         transition: opacity 1s ease-out 1.2s, transform 1s ease-out 1.2s;
     }
      .dyeing-stage.active .dyed-yarn {
         opacity: 1;
         transform: translateX(0);
     }

    /* --- Loom Stage --- */
     .loom-stage {
         display: flex;
         justify-content: center;
         align-items: center;
         width: 100%;
         height: 100%;
         position: relative;
     }
     .loom-frame {
         width: 150px;
         height: 200px;
         border: 8px solid var(--border-color);
         border-radius: 5px;
         background-color: rgba(255, 255, 255, 0.6);
         position: relative;
         opacity: 0;
         transform: scale(0.8);
         transition: opacity 0.8s ease-out, transform 0.8s ease-out;
     }
     .loom-stage.active .loom-frame {
         opacity: 1;
         transform: scale(1);
     }

    .warp-threads {
         position: absolute;
         top: 8px; /* Align with top inner edge of frame */
         bottom: 8px; /* Align with bottom inner edge */
         left: 50%; /* Center horizontally */
         transform: translateX(-50%); /* Adjust for width */
         width: 100px; /* Width of warp area */
         background: repeating-linear-gradient(to right,
             #ccc, /* Light grey */
             #ccc 2px, /* Thread width */
             transparent 2px, /* Gap width */
             transparent 6px /* Gap width */
         );
         opacity: 0;
         transition: opacity 0.8s ease-out 0.5s;
     }
     .loom-stage.active .warp-threads {
         opacity: 1;
     }

    /* --- Knotting Stage --- */
    .knotting-stage {
         display: flex;
         flex-direction: column;
         justify-content: center;
         align-items: center;
         width: 100%;
         height: 100%;
         position: relative;
     }
    .weaving-grid {
         width: 180px;
         height: 180px;
         background: repeating-linear-gradient(0deg, transparent, transparent 18px, rgba(0,0,0,0.1) 18px, rgba(0,0,0,0.1) 20px),
                     repeating-linear-gradient(90deg, transparent, transparent 18px, rgba(0,0,0,0.1) 18px, rgba(0,0,0,0.1) 20px);
         background-color: rgba(255, 255, 255, 0.7);
         border: 2px solid var(--border-color);
         position: relative;
         opacity: 0;
         transform: scale(0.8);
         animation: weave-in 2s infinite linear; /* Simple weaving effect */
         transition: opacity 0.8s ease-out, transform 0.8s ease-out;
     }
     .knotting-stage.active .weaving-grid {
         opacity: 1;
         transform: scale(1);
     }

    @keyframes weave-in {
        0% { background-position: 0% 0%, 0% 0%; }
        100% { background-position: 20px 20px, 20px 20px; } /* Shift grid slightly */
    }

     .hand-tool {
         font-size: 3em;
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         animation: knot-action 1.5s infinite ease-in-out;
         opacity: 0;
         transition: opacity 0.8s ease-out 0.5s;
     }
     .knotting-stage.active .hand-tool {
         opacity: 1;
     }

     @keyframes knot-action {
         0% { transform: translate(-50%, -50%) scale(1) rotate(0deg); }
         50% { transform: translate(-45%, -55%) scale(1.1) rotate(5deg); }
         100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); }
     }


    /* --- Finishing Stage --- */
     .finishing-stage {
         display: flex;
         justify-content: space-around;
         align-items: center;
         width: 100%;
         height: 100%;
     }
     .finished-rug-base {
         width: 100px;
         height: 150px;
         background-color: var(--primary-color);
         border: 5px solid var(--accent-color);
         border-radius: 5px;
         position: relative;
         overflow: hidden;
         opacity: 0;
         transform: scale(0.8);
         transition: opacity 0.8s ease-out, transform 0.8s ease-out;
     }
     .finishing-stage.active .finished-rug-base {
         opacity: 1;
         transform: scale(1);
     }
    .shears, .wash-symbol, .sun-symbol {
         font-size: 3.5em;
         position: absolute;
         opacity: 0;
         transition: opacity 0.6s ease-out, transform 0.6s ease-out;
     }
     .shears { top: 20%; left: 20%; transform: rotate(-20deg); transition-delay: 0.5s;}
     .wash-symbol { top: 50%; left: 50%; transform: translate(-50%, -50%); transition-delay: 1s;}
     .sun-symbol { top: 20%; right: 20%; transform: rotate(20deg); transition-delay: 1.5s;}

     .finishing-stage.active .shears { opacity: 1; transform: rotate(0deg); }
     .finishing-stage.active .wash-symbol { opacity: 1; transform: translate(-50%, -50%); }
     .finishing-stage.active .sun-symbol { opacity: 1; transform: rotate(0deg); }


    /* --- Explanation Section --- */
    #toggle-explanation-btn {
        display: block;
        margin: 30px auto 20px auto;
        padding: 12px 25px;
        font-size: 1.1em;
        cursor: pointer;
        background-color: var(--accent-color);
        color: white;
        border: none;
        border-radius: 6px;
        transition: background-color 0.3s ease, transform 0.2s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    #toggle-explanation-btn:hover {
        background-color: #4a5a29; /* Darker olive */
        transform: translateY(-2px);
    }

    #explanation-section {
        display: none;
        margin-top: 20px;
        padding: 25px;
        border: 2px solid var(--border-color);
        border-radius: 10px;
        background-color: #fff;
        direction: rtl;
        text-align: right;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    #explanation-section h2 {
        color: var(--primary-color);
        border-bottom: 1px solid var(--secondary-color);
        padding-bottom: 10px;
        margin-top: 0;
        margin-bottom: 20px;
    }

    #explanation-section p {
        color: var(--text-color);
        line-height: 1.6;
        margin-bottom: 15px;
    }

    #explanation-section ul {
        list-style: none; /* Remove default list style */
        padding: 0;
    }

    #explanation-section li {
        margin-bottom: 15px;
        line-height: 1.6;
        padding-right: 25px; /* Space for custom bullet */
        position: relative;
         color: var(--text-color);
    }
    #explanation-section li::before {
         content: '▪'; /* Custom bullet point */
         color: var(--accent-color);
         font-weight: bold;
         display: inline-block;
         width: 1em;
         margin-right: 5px;
         position: absolute;
         right: 0;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const steps = document.querySelectorAll('.step');
        const animationStage = document.getElementById('animation-stage');
        const explanationButton = document.getElementById('toggle-explanation-btn');
        const explanationSection = document.getElementById('explanation-section');

        // Mapping steps to corresponding stage elements and interactive text
        const stages = {
            intro: {
                 element: animationStage.querySelector('.intro-stage'),
                 text: { title: 'ברוכים הבאים למסע!', body: 'לחצו על שלב בציר הזמן למעלה כדי להתחיל לגלות את סודות השטיח הפרסי.' }
            },
            materials: {
                 element: animationStage.querySelector('.materials-stage'),
                 text: { title: '🐑 איסוף חומרי גלם', body: 'המסע מתחיל עם הסיבים הטובים ביותר - צמר כבשים, משי יקר ערך או כותנה עמידה. איכות הסיב היא הבסיס לכל.' }
            },
            dyeing: {
                 element: animationStage.querySelector('.dyeing-stage'),
                 text: { title: '🌈 צביעה טבעית', body: 'החוטים נצבעים במיומנות בצבעים מרהיבים המופקים מצמחים, מינרלים וחרקים. כל גוון מספר סיפור משלו.' }
            },
            loom: {
                 element: animationStage.querySelector('.loom-stage'),
                 text: { title: '🛠️ הכנת הנול', body: 'הנול הוא השלד שעליו יקרום עור וגידים השטיח. חוטי השתי נמתחים עליו בדיוק מרבי, ומחכים לקשר הראשון.' }
            },
            knotting: {
                 element: animationStage.querySelector('.knotting-stage'),
                 text: { title: '🧵 אומנות הקשירה', body: 'זוהי הנשמה של השטיח. אלפי ואף מיליוני קשרים קטנים נכרכים ידנית סביב חוטי השתי, לפי מפת הדוגמה, סבלנות אין קץ נדרשת כאן.' }
            },
            finishing: {
                 element: animationStage.querySelector('.finishing-stage'),
                 text: { title: '✂️ גזירה וגימור', body: 'לאחר סיום האריגה, ערימת הצמר נגזרת לגובה אחיד, השטיח נשטף ומיושב בקפידה. פעולות שמבליטות את יופיו האמיתי.' }
            }
        };

        // Function to update animation stage
        const updateStage = (stepKey) => {
            // Remove active classes from all stages and steps
            Object.values(stages).forEach(stage => {
                 if (stage.element) {
                     stage.element.classList.remove('active');
                 }
            });
            steps.forEach(step => step.classList.remove('active'));


            // Add active class to the selected stage and step
            const currentStage = stages[stepKey];
            if (currentStage && currentStage.element) {
                currentStage.element.classList.add('active');
                 document.querySelector(`.step[data-step="${stepKey}"]`).classList.add('active');

                 // Optional: Update text feedback within the stage if needed (can be added dynamically)
                 // For now, the visual element is the main focus.
                 // Could add an h3 and p element dynamically here
            }
        };

        // Initial state: show intro stage
        updateStage('intro');

        // Add click listeners to steps
        steps.forEach(step => {
            step.addEventListener('click', () => {
                const stepKey = step.getAttribute('data-step');
                if (stepKey) {
                    updateStage(stepKey);
                }
            });
        });

        // Toggle explanation section
        explanationButton.addEventListener('click', () => {
            const isHidden = explanationSection.style.display === 'none' || explanationSection.style.display === '';
            if (isHidden) {
                explanationSection.style.display = 'block';
                explanationButton.textContent = 'הסתר הסבר מפורט';
                // Optional: scroll to the explanation section
                explanationSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                explanationSection.style.display = 'none';
                explanationButton.textContent = 'ללמוד עוד: הסבר מפורט על התהליך וההיסטוריה';
            }
        });
    });
</script>