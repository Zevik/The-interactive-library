---
title: "××¡×¢ ××œ ×”×ª×”×•×: ×‘× ×” ×—×œ×œ×™×ª ××—×§×¨ ×œ×©×§×¢ ××¨×™×× ×”"
english_slug: build-an-abyss-craft-mariana-trench-research-mission
category: "××•×§×™×™× ×•×’×¨×¤×™×”"
tags:
  - ×©×§×¢ ××¨×™×× ×”
  - ×—×§×¨ ×™××™×
  - ××•×§×™×™× ×•×¡ ×¢××•×§
  - ×¦×•×œ×œ×ª
  - ×œ×—×¥ ×”×™×“×¨×•×¡×˜×˜×™
  - ×”× ×“×¡×”
---
# ××¡×¢ ××œ ×”×ª×”×•×: ×‘× ×” ×—×œ×œ×™×ª ××—×§×¨ ×œ×©×§×¢ ××¨×™×× ×”

×©×§×¢ ××¨×™×× ×” - ×”× ×§×•×“×” ×”×¢××•×§×” ×‘×™×•×ª×¨ ×‘×›×“×•×¨ ×”××¨×¥, ××¡×ª×•×¨×™×ª ×•×¢×•×™× ×ª. ×‘×œ×—×¥ ××“×™×¨, ×§×•×¨ ××§×¤×™× ×•×—×©×™×›×” ××•×—×œ×˜×ª, ×¨×§ ×›×œ×™ ×©×™×˜ ×™×™×¢×•×“×™×™× ×™×›×•×œ×™× ×œ×”×’×™×¢ ×œ×©×. ×”×× ×ª×¦×œ×™×— ×œ×ª×›× ×Ÿ ×›×œ×™ ×›×–×”? ×‘× ×” ××ª ×¦×•×œ×œ×ª ×”××—×§×¨ ×©×œ×š, ×‘×—×¨ ××ª ×”×¦×™×•×“ ×”××ª××™× ×‘×™×•×ª×¨ ×œ×ª× ××™× ×”×§×™×¦×•× ×™×™×, ×•×ª×›× ×Ÿ ××ª ×”××©×™××” ×”××•×œ×˜×™××˜×™×‘×™×ª ××œ ×”×ª×”×•×!

<div id="app-container">
    <div id="budget-display">
        <h2>×”×ª×§×¦×™×‘ ×©×œ×š ×œ××©×™××”: <span id="current-budget" class="budget-value">$5,000,000</span></h2>
        <div class="budget-bar-container">
            <div id="budget-bar" class="budget-bar"></div>
        </div>
    </div>

    <div id="components-selection" class="section-container">
        <h2>×‘× ×” ××ª ×—×œ×œ×™×ª ×”×¢×•××§ ×©×œ×š: ×‘×—×¨ ×¨×›×™×‘×™×</h2>

        <div class="component-category" id="body-type">
            <h3><i class="icon-body"></i> ××‘× ×” ×”×’×•×£ (×—×•×‘×”!)</h3>
            <div class="options">
                <label data-value="titanium" title="×”×’× ×” ××™×¨×‘×™×ª ×œ×œ×—×¥ ×§×™×¦×•× ×™">
                    <input type="radio" name="body" value="titanium"> ×’×•×£ ×˜×™×˜× ×™×•× <span class="component-stats">(×¢×•××§ ××§×¡': 11000×', ××©×§×œ × ×©×™××” ××§×¡': 1200×§"×’) - ×¢×œ×•×ª: $3,000,000, ××©×§×œ: 800×§"×’, ×›×•×— ×‘×¡×™×¡×™: 500W</span>
                </label>
                <label data-value="ceramic" title="×¢××™×“ ×××•×“ ×œ×œ×—×¥, ×§×œ ×™×•×ª×¨ ××˜×™×˜× ×™×•×">
                    <input type="radio" name="body" value="ceramic"> ×’×•×£ ×§×¨××™ <span class="component-stats">(×¢×•××§ ××§×¡': 8000×', ××©×§×œ × ×©×™××” ××§×¡': 800×§"×’) - ×¢×œ×•×ª: $1,500,000, ××©×§×œ: 500×§"×’, ×›×•×— ×‘×¡×™×¡×™: 300W</span>
                </label>
                <label data-value="steel" title="×—×–×§ ××š ×›×‘×“, ×œ×¢×•××§×™× ×‘×™× ×•× ×™×™×">
                    <input type="radio" name="body" value="steel"> ×’×•×£ ×¤×œ×“×” ××—×•×–×§×ª <span class="component-stats">(×¢×•××§ ××§×¡': 5000×', ××©×§×œ × ×©×™××” ××§×¡': 700×§"×’) - ×¢×œ×•×ª: $800,000, ××©×§×œ: 700×§"×’, ×›×•×— ×‘×¡×™×¡×™: 400W</span>
                </label>
                <label data-value="auv_frame" title="×©×œ×“ ×§×œ ×œ×¢×•××§×™× ×¨×“×•×“×™× ×™×—×¡×™×ª">
                    <input type="radio" name="body" value="auv_frame"> ×©×œ×“×ª AUV ×‘×¡×™×¡×™×ª <span class="component-stats">(×¢×•××§ ××§×¡': 2000×', ××©×§×œ × ×©×™××” ××§×¡': 300×§"×’) - ×¢×œ×•×ª: $200,000, ××©×§×œ: 100×§"×’, ×›×•×— ×‘×¡×™×¡×™: 200W</span>
                </label>
            </div>
        </div>

        <div class="component-category" id="power-source">
            <h3><i class="icon-power"></i> ×× ×•×¢ ×”×œ×‘ (×—×•×‘×”!)</h3>
            <div class="options">
                <label data-value="large_battery" title="××¡×¤×§×ª ×× ×¨×’×™×” ×œ××©×™××•×ª ××¨×•×›×•×ª ×•×¢××•×§×•×ª">
                    <input type="radio" name="power" value="large_battery"> ×¡×•×œ×œ×•×ª ×’×“×•×œ×•×ª <span class="component-stats">(××¡×¤×§×ª ×›×•×—: 100 ×§×•×˜"×©) - ×¢×œ×•×ª: $500,000, ××©×§×œ: 400×§"×’, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
                <label data-value="small_battery" title="×× ×¨×’×™×” ×œ××©×™××•×ª ×§×¦×¨×•×ª ×™×•×ª×¨">
                    <input type="radio" name="power" value="small_battery"> ×¡×•×œ×œ×•×ª ×§×˜× ×•×ª <span class="component-stats">(××¡×¤×§×ª ×›×•×—: 30 ×§×•×˜"×©) - ×¢×œ×•×ª: $200,000, ××©×§×œ: 150×§"×’, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
            </div>
        </div>

        <div class="component-category" id="research-equipment">
            <h3><i class="icon-research"></i> ×›×œ×™ ××“×¢ ×•×—×™×©×” (×‘×—×¨ ××—×“ ××• ×™×•×ª×¨)</h3>
            <div class="options">
                <label data-value="pressure_camera" title="×¦×™×œ×•× ×ª××•× ×•×ª ×•×•×™×“××• ×‘××™×›×•×ª ×’×‘×•×”×” ×‘×œ×—×¥ ×¢×¦×•×">
                    <input type="checkbox" name="research" value="pressure_camera"> ××¦×œ××” ×¢××™×“×ª ×œ×—×¥ <span class="component-stats">(×¦×™×œ×•× ×‘×¢×•××§ ×§×™×¦×•× ×™) - ×¢×œ×•×ª: $400,000, ××©×§×œ: 50×§"×’, ×›×•×—: 50W, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
                <label data-value="high_res_camera" title="××¦×œ××” ××™×›×•×ª×™×ª ×œ×¢×•××§×™× ×‘×™× ×•× ×™×™×">
                    <input type="checkbox" name="research" value="high_res_camera"> ××¦×œ××” ×‘×¨×–×•×œ×•×¦×™×” ×’×‘×•×”×” <span class="component-stats">(×¦×™×œ×•× ×›×œ×œ×™) - ×¢×œ×•×ª: $250,000, ××©×§×œ: 30×§"×’, ×›×•×—: 40W, ×¢×•××§ ××§×¡': 8000×'</span>
                </label>
                <label data-value="temp_sensor" title="××“×™×“×ª ×”×˜××¤×¨×˜×•×¨×” ×”××“×•×™×§×ª ×‘××™× ×”×¢××•×§×™×">
                    <input type="checkbox" name="research" value="temp_sensor"> ×—×™×™×©×Ÿ ×˜××¤×¨×˜×•×¨×” <span class="component-stats">- ×¢×œ×•×ª: $50,000, ××©×§×œ: 5×§"×’, ×›×•×—: 10W, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
                <label data-value="pressure_sensor" title="××“×™×“×ª ×”×œ×—×¥ ×”×”×™×“×¨×•×¡×˜×˜×™ ×œ××™××•×ª × ×ª×•× ×™×">
                    <input type="checkbox" name="research" value="pressure_sensor"> ×—×™×™×©×Ÿ ×œ×—×¥ <span class="component-stats">- ×¢×œ×•×ª: $60,000, ××©×§×œ: 5×§"×’, ×›×•×—: 10W, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
                <label data-value="chem_sensor" title="× ×™×ª×•×— ×”×¨×›×‘ ×›×™××™ ×©×œ ×”××™×, ×›×•×œ×œ ××œ×™×—×•×ª ×•×—××¦×Ÿ">
                    <input type="checkbox" name="research" value="chem_sensor"> ×—×™×™×©× ×™ ×›×™××™×” <span class="component-stats">(× ×™×ª×•×— ×”×¨×›×‘ ××™×) - ×¢×œ×•×ª: $150,000, ××©×§×œ: 20×§"×’, ×›×•×—: 30W, ×¢×•××§ ××§×¡': 10000×'</span>
                </label>
                <label data-value="sample_arm" title="××™×¡×•×£ ×“×’×™××•×ª ×§×¨×§×¢×™×ª, ××™× ×•×™×¦×•×¨×™× ×—×™×™×">
                    <input type="checkbox" name="research" value="sample_arm"> ×–×¨×•×¢ ××™×¡×•×£ ×“×’×™××•×ª <span class="component-stats">- ×¢×œ×•×ª: $700,000, ××©×§×œ: 150×§"×’, ×›×•×—: 100W, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
                <label data-value="sonar" title="××™×¤×•×™ ×ª×œ×ª-×××“×™ ×©×œ ×§×¨×§×¢×™×ª ×”×™× ×”××•×¨×›×‘×ª">
                    <input type="checkbox" name="research" value="sonar"> ×¡×•× ××¨ ×¡×¨×™×§×ª ×¦×“ <span class="component-stats">(××™×¤×•×™ ×§×¨×§×¢×™×ª) - ×¢×œ×•×ª: $600,000, ××©×§×œ: 100×§"×’, ×›×•×—: 80W, ×¢×•××§ ××§×¡': 7000×'</span>
                </label>
            </div>
        </div>

        <div class="component-category" id="lighting">
            <h3><i class="icon-light"></i> ×¢×™× ×™×™× ×‘×—×©×™×›×”</h3>
            <div class="options">
                <label data-value="powerful_led" title="×ª××•×¨×” ×—×–×§×” ×œ×—×©×™×›×” ×”××•×—×œ×˜×ª ×‘×¢×•××§">
                    <input type="radio" name="lighting" value="powerful_led"> ×ª××•×¨×ª LED ×—×–×§×” <span class="component-stats">(×œ×¢×•××§ ×¨×‘) - ×¢×œ×•×ª: $100,000, ××©×§×œ: 15×§"×’, ×›×•×—: 70W, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
                <label data-value="basic_lights" title="×ª××•×¨×” ×¡×˜× ×“×¨×˜×™×ª ×œ×¢×•××§×™× ×¨×“×•×“×™× ×™×•×ª×¨">
                    <input type="radio" name="lighting" value="basic_lights"> ×ª××•×¨×” ×‘×¡×™×¡×™×ª <span class="component-stats">(×œ×¢×•××§ ×‘×™× ×•× ×™) - ×¢×œ×•×ª: $40,000, ××©×§×œ: 8×§"×’, ×›×•×—: 30W, ×¢×•××§ ××§×¡': 6000×'</span>
                </label>
            </div>
        </div>

        <div class="component-category" id="navigation">
            <h3><i class="icon-nav"></i> ×“×¨×š ×‘×—×©×›×”</h3>
            <div class="options">
                <label data-value="acoustic_nav" title="× ×™×•×•×˜ ××“×•×™×§ ×•×××™×Ÿ ×‘×¡×‘×™×‘×” ××§×•×¡×˜×™×ª ×××ª×’×¨×ª">
                    <input type="radio" name="navigation" value="acoustic_nav"> × ×™×•×•×˜ ××§×•×¡×˜×™ ××ª×§×“× <span class="component-stats">(×œ×¢×•××§ ×¨×‘) - ×¢×œ×•×ª: $300,000, ××©×§×œ: 25×§"×’, ×›×•×—: 20W, ×¢×•××§ ××§×¡': 11000×'</span>
                </label>
                <label data-value="basic_nav" title="× ×™×•×•×˜ ×‘×¡×™×¡×™ ×œ×¢×•××§×™× ×¨×“×•×“×™× ×™×•×ª×¨">
                    <input type="radio" name="navigation" value="basic_nav"> × ×™×•×•×˜ ×‘×¡×™×¡×™ <span class="component-stats">(×œ×¢×•××§ ×‘×™× ×•× ×™) - ×¢×œ×•×ª: $80,000, ××©×§×œ: 10×§"×’, ×›×•×—: 10W, ×¢×•××§ ××§×¡': 5000×'</span>
                </label>
            </div>
        </div>
    </div>

    <div id="current-build-stats" class="section-container">
        <h2><i class="icon-stats"></i> ×¡×™×›×•× ×”×¨×›×‘×” × ×•×›×—×™×ª</h2>
        <p>×¢×œ×•×ª ×›×•×œ×œ×ª: <span id="total-cost" class="stat-value">-</span></p>
        <p>××©×§×œ ×›×•×œ×œ (×›×•×œ×œ ×’×•×£): <span id="total-weight" class="stat-value">-</span></p>
        <p>××©×§×œ ×¦×™×•×“ (×œ×œ× ×’×•×£): <span id="payload-weight" class="stat-value">-</span></p>
        <p>×¦×¨×™×›×ª ×›×•×— ×›×•×œ×œ×ª: <span id="total-power-draw" class="stat-value">-</span></p>
        <p>×¢×•××§ ××§×¡×™××œ×™ ×©×›×œ ×”×¨×›×™×‘×™× ×¢×•××“×™× ×‘×•: <span id="combined-max-depth" class="stat-value">-</span></p>
    </div>

    <div id="mission-planning" class="section-container">
        <h2><i class="icon-mission"></i> ×”×’×“×¨ ××ª ×™×¢×“ ×”××©×™××”</h2>
        <div>
            <label for="mission-depth">×¢×•××§ ×™×¢×“ (××˜×¨):</label>
            <input type="number" id="mission-depth" min="1" max="11000" value="5000">
        </div>
        <div>
            <label for="mission-duration">××©×š ×™×¢×“ (×©×¢×•×ª):</label>
            <input type="number" id="mission-duration" min="1" max="72" value="12">
        </div>
        <button id="plan-mission-button"><i class="icon-launch"></i> ×ª×›× ×Ÿ ××©×™××”!</button>
    </div>

    <div id="mission-results" class="section-container">
        <h2><i class="icon-results"></i> ×¡×™×›×•× ×”××©×™××”</h2>
        <p id="results-text">×‘×—×¨ ×¨×›×™×‘×™× ×•×”×’×“×¨ ×™×¢×“ ××©×™××” ×›×“×™ ×œ×§×‘×œ ×¡×™×›×•×.</p>
    </div>
</div>

<button id="toggle-explanation">×”×¦×’/×”×¡×ª×¨ ×”×¡×‘×¨ ×¢×œ ×—×§×¨ ×©×§×¢ ××¨×™×× ×” ×•×”×ª× ××™× ×‘×ª×”×•×</button>
<div id="explanation" style="display: none;">
    <h2>×©×§×¢ ××¨×™×× ×” - ××ª×’×¨×™× ×•×—×§×¨</h2>
    <p>×©×§×¢ ××¨×™×× ×” ×”×•× ×”×ª×”×•× ×”××•×§×™×™× ×™×ª ×”×¢××•×§×” ×‘×™×•×ª×¨ ×”×™×“×•×¢×” ×¢×œ ×¤× ×™ ×›×“×•×¨ ×”××¨×¥, ×”×××•×§××ª ×‘××¢×¨×‘ ×”××•×§×™×™× ×•×¡ ×”×©×§×˜. ×”×¢×•××§ ×”××¨×‘×™ ×”×™×“×•×¢ ×‘×•, ×‘× ×§×•×“×ª ×”×¦'×œ× ×’'×¨ ×“×™×¤, ××’×™×¢ ×œ×›-10,994 ××˜×¨×™× (×§×¨×•×‘ ×œ-11 ×§×™×œ×•××˜×¨×™×). ×–×”×• ×¢×•××§ ×©×™×›×•×œ ×œ×‘×œ×•×¢ ××ª ×”×¨ ×”××•×•×¨×¡×˜ ×›×•×œ×• ×•×¢×•×“ ×œ×”×™×©××¨ ××™× ××¢×œ×™×•!</p>

    <h3>×”×ª× ××™× ×”×§×™×¦×•× ×™×™× ×‘×©×§×¢ - ××“×•×¢ ×–×” ×›×œ ×›×š ××¡×•×‘×š?</h3>
    <p>×”×¡×‘×™×‘×” ×‘×©×§×¢ ××¨×™×× ×” ××ª××¤×™×™× ×ª ×‘×ª× ××™× ×§×™×¦×•× ×™×™× ×‘×™×•×ª×¨ ×”××”×•×•×™× ××ª×’×¨ ×”× ×“×¡×™ ×•××“×¢×™:</p>
    <ul>
        <li>**×œ×—×¥ ×”×™×“×¨×•×¡×˜×˜×™ ×¢×¦×•×:** ×‘×¢×•××§ 11 ×§"×, ×”×œ×—×¥ ×’×“×•×œ ×¤×™ ×œ××¢×œ×” ×-1,000 ××”×œ×—×¥ ×¢×œ ×¤× ×™ ×”×™× (×›-1100 ××˜××•×¡×¤×¨×•×ª!). ×“××™×™× ×• ××©××™×ª ×›×‘×“×” ×”×™×•×©×‘×ª ×¢×œ ×›×œ ×¡× ×˜×™××˜×¨ ×¨×‘×•×¢ ×©×œ ×”×›×œ×™ - ×–×”×• ×”×œ×—×¥ ×©×× ×¡×” ×œ××¢×•×š ××•×ª×•.</li>
        <li>**×˜××¤×¨×˜×•×¨×” × ××•×›×”:** ×”×˜××¤×¨×˜×•×¨×” ×§×¨×•×‘×” ×œ× ×§×•×“×ª ×”×§×™×¤××•×Ÿ, ×›-1-4 ××¢×œ×•×ª ×¦×œ×–×™×•×¡. ×”×§×•×¨ ×“×•×¨×© ×‘×™×“×•×“ ×•×”×ª×××ª ×¨×›×™×‘×™×.</li>
        <li>**×—×©×™×›×” ××•×—×œ×˜×ª:** ××•×¨ ×”×©××© ××™× ×• ×—×•×“×¨ ×œ×¢×•××§×™× ××œ×”. ×›×“×™ ×œ×¨××•×ª ××©×”×•, × ×“×¨×©×ª ×ª××•×¨×” ××œ××›×•×ª×™×ª ×—×–×§×” ×•×¢××™×“×” ×œ×œ×—×¥.</li>
        <li>**×ª×§×©×•×¨×ª ××¡×•×‘×›×ª:** ×’×œ×™ ×¨×“×™×• ××™× × ×—×•×“×¨×™× ×¢××•×§ ×œ××™×. ×ª×§×©×•×¨×ª ×¢× ×›×œ×™ ×‘×¢×•××§ ×“×•×¨×©×ª ×©×™××•×© ×‘×˜×›× ×•×œ×•×’×™×•×ª ××§×•×¡×˜×™×•×ª ××•×¨×›×‘×•×ª ×•××™×˜×™×•×ª, ××• ×›×‘×œ×™ ×ª×§×©×•×¨×ª ××¡×•×¨×‘×œ×™× (×œ-ROVs).</li>
    </ul>

    <h3>×›×œ×™× ×œ×—×§×¨ ×”×ª×”×•×: ×¨×•×‘×•×˜×™× ×•×‘× ×™ ××“×</h3>
    <p>×—×§×¨ ×”×¢×•××§ ×”×§×™×¦×•× ×™ ××ª××¤×©×¨ ×‘×¢×™×§×¨ ×‘×××¦×¢×•×ª ×©× ×™ ×¡×•×’×™ ×›×œ×™×, ×©×œ×›×œ ××—×“ ×™×ª×¨×•× ×•×ª ×•×—×¡×¨×•× ×•×ª:</p>
    <ul>
        <li>**×¦×•×œ×œ×•×ª ×××•×™×©×•×ª (×›××• ×”×˜×¨×™××¡×˜×” ×•×”×“×™×¤×¡×™ ×¦'×œ× ×’'×¨):** ×××¤×©×¨×•×ª × ×•×›×—×•×ª ×× ×•×©×™×ª ×•×ª×¦×¤×™×ª ×™×©×™×¨×”, ××š ×”×Ÿ ×™×§×¨×•×ª ×•××•×¨×›×‘×•×ª ×œ×”× ×“×¡×” (×“×•×¨×©×•×ª ×ª× ×˜×™×™×¡ ×¢××™×“ ×‘××™×•×—×“) ×•×œ×ª×¤×¢×•×œ. ××¢×˜×•×ª ×××•×“ × ×•×¦×¨×• ×”××¡×•×’×œ×•×ª ×œ×”×’×™×¢ ×œ×¢×•××§ ×”××¨×‘×™.</li>
        <li>**×›×œ×™ ×¨×›×‘ ×ª×ª-×™××™×™× ×‘×œ×ª×™ ×××•×™×©×™× (ROVs ×•-AUVs):** ×¨×•×‘×•×˜×™× ×”× ×©×œ×˜×™× ××¨×—×•×§ (ROV) ××• ××•×˜×•× ×•××™×™× (AUV). ×™×ª×¨×•× × ×”×•× ×©××™×Ÿ ×¡×™×›×•×Ÿ ×œ×—×™×™ ××“×, ×”× ×™×›×•×œ×™× ×œ×©×”×•×ª ×–××Ÿ ×¨×‘ ×™×•×ª×¨ ×‘×¢×•××§ ×•×œ×©××ª ××’×•×•×Ÿ ×¨×—×‘ ×™×•×ª×¨ ×©×œ ×¦×™×•×“. ×”-AUVs (×›××• ×–×” ×©××ª× ×‘×•× ×™×) ×¤×•×¢×œ×™× ×‘××•×¤×Ÿ ××•×˜×•× ×•××™ ×¢×œ ×‘×¡×™×¡ ×ª×•×›× ×™×ª ×©×”×•×’×“×¨×” ××¨××©.</li>
    </ul>

    <h3>×—×™×™× ×‘×¢×•××§: ×”×¤×ª×¢×•×ª ×‘××¤×œ×”</h3>
    <p>×œ××¨×•×ª ×”×ª× ××™× ×”×¢×•×™× ×™×, ×©×§×¢ ××¨×™×× ×” ××™× ×• ×¨×™×§ ××—×™×™×! ×™×¦×•×¨×™× ×—×™×™× ×‘×¢×•××§ ×”×§×™×¦×•× ×™ ×¤×™×ª×—×• ×”×¡×ª×’×œ×•×™×•×ª ××“×”×™××•×ª ×›×“×™ ×œ×©×¨×•×“ ×‘×¡×‘×™×‘×” ×‘×œ×ª×™ ××¤×©×¨×™×ª ×œ×›××•×¨×”:</p>
    <ul>
        <li>**×¢××™×“×•×ª ×œ×œ×—×¥:** ××‘× ×” ×’×•×¤× ××•×ª×× ×œ×œ×—×¥ ×”××“×™×¨, ×œ×¢×™×ª×™× ×§×¨×•×‘×•×ª ×¢×œ ×™×“×™ ×”×™×¢×“×¨ ×—×œ×œ×™× ××œ××™ ×’×– (×›××• ×©×œ×¤×•×—×™×ª ×¦×™×¤×”) ×•×”×¨×›×‘ ×›×™××™ ××™×•×—×“ ×‘×ª××™× ×”××’×Ÿ ×¢×œ ×”×—×œ×‘×•× ×™×.</li>
        <li>**×—×™×™× ×‘×—×©×™×›×”:** ×¨×‘×™× ×¢×™×•×•×¨×™× ××• ××¡×ª××›×™× ×¢×œ ×—×•×©×™× ××—×¨×™× (×›××• ×—×™×©×” ×›×™××™×ª ××• ××›× ×™×ª) ×›×“×™ ×œ××¦×•× ××–×•×Ÿ ×•×œ×”×ª× ×™×™×“. ×—×œ×§× ××™×™×¦×¨×™× ××•×¨ ×‘×¢×¦×× (×‘×™×•×œ×•××™× ×¦×™×”) ×›×“×™ ×œ×ª×§×©×¨ ××• ×œ××©×•×š ×˜×¨×£.</li>
        <li>**××§×•×¨×•×ª ××–×•×Ÿ:** ×¨×•×‘ ×”××–×•×Ÿ ××’×™×¢ ××œ××¢×œ×” ("×©×œ×’ ×™××™" - ××•×¨×’× ×™×–××™× ××ª×™× ×©×©×•×§×¢×™×). ××š ×§×™×™××•×ª ×’× ××¢×¨×›×•×ª ××§×•×œ×•×’×™×•×ª ×™×™×—×•×“×™×•×ª ×”××‘×•×¡×¡×•×ª ×¢×œ ×›×™××•×¡×™× ×ª×–×”, × ×™×¦×•×œ ×× ×¨×’×™×” ×›×™××™×ª ×”× ×¤×œ×˜×ª ××¤×ª×—×™ ××•×•×¨×•×¨ ×‘×§×¨×§×¢×™×ª.</li>
    </ul>

    <h3>×—×©×™×‘×•×ª ×—×§×¨ ×©×§×¢ ××¨×™×× ×”</h3>
    <p>×—×§×¨ ×©×§×¢ ××¨×™×× ×” ×—×™×•× ×™ ×œ××¡×¤×¨ ×¡×™×‘×•×ª:</p>
    <ul>
        <li>**×’×™×œ×•×™×™× ××“×¢×™×™×:** ×’×™×œ×•×™ ××™× ×™× ×—×“×©×™×, ×”×‘× ×ª ×”×‘×™×•×œ×•×’×™×” ×©×œ ×¡×‘×™×‘×•×ª ×§×™×¦×•× ×™×•×ª, ×œ×™××•×“ ×ª×”×œ×™×›×™× ×’×™××•×œ×•×’×™×™× ×•×ª× ×•×¢×•×ª ×œ×•×—×•×ª ×˜×§×˜×•× ×™×™× ×‘×¢×•××§.</li>
        <li>**×¤×™×ª×•×— ×˜×›× ×•×œ×•×’×™:** ×”×¦×•×¨×š ×œ×™×¦×•×¨ ×›×œ×™× ×©×™×›×•×œ×™× ×œ×¢××•×“ ×‘×ª× ××™× ××œ×” ×“×•×—×£ ××ª ×’×‘×•×œ×•×ª ×”×”× ×“×¡×”, ×”×—×•××¨×™× ×•×”×¨×•×‘×•×˜×™×§×”. ×˜×›× ×•×œ×•×’×™×•×ª ×©×¤×•×ª×—×• ×œ×—×§×¨ ×”×¢×•××§ ××©××©×•×ª ×’× ×‘×ª×¢×©×™×•×ª ××—×¨×•×ª.</li>
        <li>**××¢×§×‘ ×¡×‘×™×‘×ª×™:** ×”×‘× ×ª ×–×¨××™× ×¢××•×§×™×, ×¤×™×–×•×¨ ×—×•××¨×™× ××–×”××™× (×›××• ×¤×¡×•×œ×ª ×¤×œ×¡×˜×™×§ ×©×›×‘×¨ × ××¦××” ×‘×¢×•××§×™× ××œ×”!) ×•××¢×§×‘ ××—×¨ ×”×©×¤×¢×ª ×©×™× ×•×™×™ ××§×œ×™× ×¢×œ ×”××¢×¨×›×•×ª ×”××§×•×œ×•×’×™×•×ª ×”×¢××•×§×•×ª.</li>
    </ul>
    <p>×¢×›×©×™×• ×ª×•×¨×š ×œ×ª×›× ×Ÿ ××ª ×”××©×™××” ×”×”×™×¡×˜×•×¨×™×ª ×”×‘××” ××œ ×œ×‘ ×”×ª×”×•×!</p>
</div>

<style>
/* General Styling */
#app-container {
    font-family: 'Arial', sans-serif; /* A common, readable font */
    direction: rtl;
    text-align: right;
    max-width: 900px; /* Slightly wider container */
    margin: 20px auto;
    padding: 30px; /* More padding */
    border-radius: 12px; /* Softer corners */
    background: linear-gradient(to bottom, #e0f7fa, #b2ebf2); /* Light blue gradient */
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Softer, deeper shadow */
    color: #333; /* Darker text for readability */
}

h1 {
    color: #004d7a; /* Deep blue */
    text-align: center;
    margin-bottom: 30px;
    font-size: 2em;
}

h2 {
    color: #0077b6; /* Medium blue */
    text-align: right;
    border-bottom: 2px solid #0077b6; /* Underline headings */
    padding-bottom: 10px;
    margin-top: 30px;
    font-size: 1.5em;
}

h3 {
    color: #023e8a; /* Darker blue for category titles */
    margin-top: 0;
    margin-bottom: 15px;
    padding-right: 10px; /* Indent category titles slightly */
    font-size: 1.2em;
}

/* Section Containers */
.section-container {
    margin-bottom: 30px;
    padding: 20px;
    border-radius: 8px;
    background-color: #ffffff; /* White background for sections */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for sections */
}

/* Budget Display */
#budget-display {
    text-align: center; /* Center budget display */
    margin-bottom: 30px;
}

#budget-display h2 {
     color: #1b5e20; /* Dark green */
     text-align: center;
     border-bottom: none;
     margin-bottom: 15px;
}

.budget-value {
    color: #2e7d32; /* Green */
    font-weight: bold;
    font-size: 1.5em;
}

.budget-bar-container {
    width: 100%;
    background-color: #e0e0e0;
    border-radius: 5px;
    overflow: hidden;
    height: 20px;
    margin-top: 10px;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
}

.budget-bar {
    height: 100%;
    width: 100%; /* Starts full */
    background-color: #4caf50; /* Green */
    transition: width 0.5s ease-in-out, background-color 0.5s ease-in-out;
    text-align: center;
    line-height: 20px;
    color: white;
    font-size: 0.9em;
}

.budget-bar.warning {
    background-color: #ffc107; /* Amber */
}

.budget-bar.critical {
    background-color: #f44336; /* Red */
}

/* Component Selection */
.component-category .options label {
    display: block;
    margin-bottom: 8px; /* More space between options */
    padding: 12px; /* Padding inside labels */
    border: 1px solid #e0e0e0; /* Light grey border */
    border-radius: 6px;
    background-color: #f8f8f8; /* Off-white background */
    cursor: pointer;
    transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.component-category .options label:hover {
    background-color: #eef; /* Light blue on hover */
    border-color: #c5cae9;
}

.component-category .options label input[type="radio"],
.component-category .options label input[type="checkbox"] {
    margin-left: 10px; /* Space out input */
    vertical-align: middle; /* Align with text */
}

.component-category .options label.selected {
    background-color: #bbdefb; /* Blueish background for selected */
    border-color: #64b5f6; /* Darker blue border */
    box-shadow: 0 0 5px rgba(0, 119, 182, 0.3);
}

.component-stats {
    font-size: 0.9em;
    color: #555;
    margin-right: 10px;
}

/* Icons (simple text-based or unicode) */
.icon-body::before { content: 'ğŸ› ï¸ '; }
.icon-power::before { content: 'ğŸ”‹ '; }
.icon-research::before { content: 'ğŸ”¬ '; }
.icon-light::before { content: 'ğŸ’¡ '; }
.icon-nav::before { content: 'ğŸ—ºï¸ '; }
.icon-stats::before { content: 'ğŸ“Š '; }
.icon-mission::before { content: 'ğŸ¯ '; }
.icon-launch::before { content: 'ğŸš€ '; }
.icon-results::before { content: 'ğŸ“‹ '; }

/* Current Build Stats */
#current-build-stats p {
    margin-bottom: 8px;
    font-size: 1.1em;
    color: #555;
}

#current-build-stats .stat-value {
    font-weight: bold;
    color: #0056b3;
}

/* Mission Planning */
#mission-planning div {
    margin-bottom: 15px; /* More space between inputs */
}

#mission-planning label {
    display: inline-block;
    margin-left: 15px;
    min-width: 180px; /* Align labels */
    font-size: 1.1em;
    color: #333;
}

#mission-planning input[type="number"] {
    padding: 8px; /* More padding */
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 1em;
    width: 100px; /* Fixed width */
    text-align: center;
}

#plan-mission-button {
    display: block;
    width: 100%;
    padding: 12px; /* More padding */
    background-color: #28a745; /* Green */
    color: white;
    border: none;
    border-radius: 6px; /* Rounded corners */
    font-size: 1.3em; /* Larger text */
    cursor: pointer;
    margin-top: 20px;
    transition: background-color 0.3s ease-in-out, transform 0.1s ease;
    font-weight: bold;
}

#plan-mission-button:hover {
    background-color: #218838; /* Darker green on hover */
}

#plan-mission-button:active {
     transform: scale(0.98); /* Button press effect */
}


/* Mission Results */
#mission-results p {
    white-space: pre-wrap; /* Preserve line breaks */
    font-size: 1.1em;
    color: #333;
    line-height: 1.6; /* Better line spacing */
}

#mission-results.success {
    background-color: #e8f5e9; /* Very light green */
    border-color: #4caf50; /* Green border */
    box-shadow: 0 0 8px rgba(76, 175, 80, 0.4); /* Green shadow */
}

#mission-results.failure {
    background-color: #ffebee; /* Very light red */
    border-color: #f44336; /* Red border */
     box-shadow: 0 0 8px rgba(244, 67, 54, 0.4); /* Red shadow */
}

/* Explanation Toggle Button */
#toggle-explanation {
    display: block;
    margin: 30px auto; /* More space above/below */
    padding: 12px 25px;
    background-color: #007bff; /* Blue */
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 1.1em;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
}

#toggle-explanation:hover {
    background-color: #0056b3; /* Darker blue */
}

/* Explanation Section */
#explanation {
    margin-top: 20px;
    padding: 25px;
    border-radius: 8px;
    background-color: #ffffff; /* White background */
    border: 1px solid #ccc;
    direction: rtl;
    text-align: right;
    line-height: 1.7; /* Improve readability */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

#explanation h2, #explanation h3 {
    color: #0056b3;
    text-align: right;
    border-bottom: 1px dashed #ccc; /* Lighter underline */
    padding-bottom: 5px;
}

#explanation ul {
    list-style-type: disc;
    padding-right: 25px; /* Adjust list padding */
    margin-bottom: 15px;
}

#explanation li {
    margin-bottom: 8px;
}

/* Responsive Adjustments (basic) */
@media (max-width: 768px) {
    #app-container {
        padding: 15px;
    }
    h1 {
        font-size: 1.6em;
    }
    h2 {
        font-size: 1.3em;
    }
    .component-category .options label {
        padding: 10px;
    }
     #mission-planning label {
        display: block;
        margin-left: 0;
        margin-bottom: 5px;
        min-width: auto;
    }
    #mission-planning input[type="number"] {
        width: 100%; /* Full width on small screens */
        box-sizing: border-box; /* Include padding and border in width */
    }
}
</style>

<script>
const componentsData = {
    body: {
        titanium: { name: "×’×•×£ ×˜×™×˜× ×™×•×", cost: 3000000, weight: 800, power: 500, max_depth: 11000, weight_limit: 1200 },
        ceramic: { name: "×’×•×£ ×§×¨××™", cost: 1500000, weight: 500, power: 300, max_depth: 8000, weight_limit: 800 },
        steel: { name: "×’×•×£ ×¤×œ×“×” ××—×•×–×§×ª", cost: 800000, weight: 700, power: 400, max_depth: 5000, weight_limit: 700 },
        auv_frame: { name: "×©×œ×“×ª AUV ×‘×¡×™×¡×™×ª", cost: 200000, weight: 100, power: 200, max_depth: 2000, weight_limit: 300 }
    },
    power: {
        large_battery: { name: "×¡×•×œ×œ×•×ª ×’×“×•×œ×•×ª", cost: 500000, weight: 400, power: 0, max_depth: 11000, capacity_kwh: 100 },
        small_battery: { name: "×¡×•×œ×œ×•×ª ×§×˜× ×•×ª", cost: 200000, weight: 150, power: 0, max_depth: 11000, capacity_kwh: 30 }
    },
    research: { // Checkboxes allow multiple selections
        pressure_camera: { name: "××¦×œ××” ×¢××™×“×ª ×œ×—×¥", cost: 400000, weight: 50, power: 50, max_depth: 11000 },
        high_res_camera: { name: "××¦×œ××” ×‘×¨×–×•×œ×•×¦×™×” ×’×‘×•×”×”", cost: 250000, weight: 30, power: 40, max_depth: 8000 },
        temp_sensor: { name: "×—×™×™×©×Ÿ ×˜××¤×¨×˜×•×¨×”", cost: 50000, weight: 5, power: 10, max_depth: 11000 },
        pressure_sensor: { name: "×—×™×™×©×Ÿ ×œ×—×¥", cost: 60000, weight: 5, power: 10, max_depth: 11000 },
        chem_sensor: { name: "×—×™×™×©× ×™ ×›×™××™×”", cost: 150000, weight: 20, power: 30, max_depth: 10000 },
        sample_arm: { name: "×–×¨×•×¢ ××™×¡×•×£ ×“×’×™××•×ª", cost: 700000, weight: 150, power: 100, max_depth: 11000 },
        sonar: { name: "×¡×•× ××¨ ×¡×¨×™×§×ª ×¦×“", cost: 600000, weight: 100, power: 80, max_depth: 7000 }
    },
    lighting: {
        powerful_led: { name: "×ª××•×¨×ª LED ×—×–×§×”", cost: 100000, weight: 15, power: 70, max_depth: 11000 },
        basic_lights: { name: "×ª××•×¨×” ×‘×¡×™×¡×™×ª", cost: 40000, weight: 8, power: 30, max_depth: 6000 }
    },
    navigation: {
        acoustic_nav: { name: "× ×™×•×•×˜ ××§×•×¡×˜×™ ××ª×§×“×", cost: 300000, weight: 25, power: 20, max_depth: 11000 },
        basic_nav: { name: "× ×™×•×•×˜ ×‘×¡×™×¡×™", cost: 80000, weight: 10, power: 10, max_depth: 5000 }
    }
};

const startingBudget = 5000000;

function updateStats() {
    let totalCost = 0;
    let totalWeight = 0; // Total weight including body
    let payloadWeight = 0; // Weight of components *excluding* body
    let totalPowerDraw = 0; // in Watts (W)
    let minMaxDepth = 12000; // Start higher than Mariana Trench depth

    const selected = {
        body: null,
        power: null,
        research: [],
        lighting: null,
        navigation: null
    };

    // Clear selection highlights first
    document.querySelectorAll('.component-category .options label').forEach(label => {
        label.classList.remove('selected');
    });


    // Get selected body (radio)
    const selectedBodyInput = document.querySelector('input[name="body"]:checked');
    if (selectedBodyInput) {
        selected.body = componentsData.body[selectedBodyInput.value];
        totalCost += selected.body.cost;
        totalWeight += selected.body.weight;
        totalPowerDraw += selected.body.power;
        minMaxDepth = Math.min(minMaxDepth, selected.body.max_depth);
        // Highlight selected label
        selectedBodyInput.closest('label').classList.add('selected');
    }

    // Get selected power (radio)
    const selectedPowerInput = document.querySelector('input[name="power"]:checked');
    if (selectedPowerInput) {
        selected.power = componentsData.power[selectedPowerInput.value];
        totalCost += selected.power.cost;
        totalWeight += selected.power.weight;
        // Power source itself doesn't draw power from others, it *provides* it.
        // totalPowerDraw += selected.power.power; // This is 0 for power sources in data
        minMaxDepth = Math.min(minMaxDepth, selected.power.max_depth);
        payloadWeight += selected.power.weight; // Power source is part of payload calculation
         // Highlight selected label
        selectedPowerInput.closest('label').classList.add('selected');
    }

    // Get selected research (checkboxes)
    document.querySelectorAll('input[name="research"]:checked').forEach(input => {
        const item = componentsData.research[input.value];
        selected.research.push(item);
        totalCost += item.cost;
        totalWeight += item.weight;
        payloadWeight += item.weight;
        totalPowerDraw += item.power;
        minMaxDepth = Math.min(minMaxDepth, item.max_depth);
         // Highlight selected label
        input.closest('label').classList.add('selected');
    });

    // Get selected lighting (radio)
    const selectedLightingInput = document.querySelector('input[name="lighting"]:checked');
    if (selectedLightingInput) {
        selected.lighting = componentsData.lighting[selectedLightingInput.value];
        totalCost += selected.lighting.cost;
        totalWeight += selected.lighting.weight;
        payloadWeight += selected.lighting.weight;
        totalPowerDraw += selected.lighting.power;
        minMaxDepth = Math.min(minMaxDepth, selected.lighting.max_depth);
         // Highlight selected label
        selectedLightingInput.closest('label').classList.add('selected');
    }

    // Get selected navigation (radio)
    const selectedNavigationInput = document.querySelector('input[name="navigation"]:checked');
    if (selectedNavigationInput) {
        selected.navigation = componentsData.navigation[selectedNavigationInput.value];
        totalCost += selected.navigation.cost;
        totalWeight += selected.navigation.weight;
        payloadWeight += selected.navigation.weight;
        totalPowerDraw += selected.navigation.power;
        minMaxDepth = Math.min(minMaxDepth, selected.navigation.max_depth);
         // Highlight selected label
        selectedNavigationInput.closest('label').classList.add('selected');
    }

    // Update display
    document.getElementById('total-cost').textContent = `$${totalCost.toLocaleString()}`;
    document.getElementById('total-weight').textContent = `${totalWeight.toLocaleString()} ×§"×’`;
    document.getElementById('payload-weight').textContent = `${payloadWeight.toLocaleString()} ×§"×’`;
    document.getElementById('total-power-draw').textContent = `${totalPowerDraw.toLocaleString()} W`;
    document.getElementById('combined-max-depth').textContent = `${minMaxDepth === 12000 ? '×œ× × ×‘×—×¨ ×’×•×£' : minMaxDepth.toLocaleString() + ' ×\''}`; // Show something if no body selected

    const remainingBudget = startingBudget - totalCost;
    document.getElementById('current-budget').textContent = `$${remainingBudget.toLocaleString()}`;

    // Update budget bar
    const budgetBar = document.getElementById('budget-bar');
    const budgetPercent = Math.max(0, Math.min(100, (remainingBudget / startingBudget) * 100));
    budgetBar.style.width = budgetPercent + '%';

    // Change budget bar color based on remaining budget
    budgetBar.classList.remove('warning', 'critical');
    if (remainingBudget < 0) {
        budgetBar.classList.add('critical');
         budgetBar.textContent = '×—×¨×™×’×” ××ª×§×¦×™×‘!';
         budgetBar.style.width = '100%'; // Show full bar in red on critical
    } else if (remainingBudget < startingBudget * 0.2) { // Less than 20% remaining
         budgetBar.classList.add('warning');
         budgetBar.textContent = `${budgetPercent.toFixed(0)}% × ×•×ª×¨`;
    } else {
         budgetBar.style.backgroundColor = '#4caf50'; // Ensure it's green if not warning/critical
         budgetBar.textContent = `${budgetPercent.toFixed(0)}% × ×•×ª×¨`;
    }


    // Store current selected components data for mission planning
    document.getElementById('plan-mission-button').dataset.selectedComponents = JSON.stringify(selected);
    document.getElementById('plan-mission-button').dataset.currentStats = JSON.stringify({
        totalCost,
        totalWeight,
        payloadWeight,
        totalPowerDraw,
        minMaxDepth: (minMaxDepth === 12000 ? 0 : minMaxDepth) // Store 0 if no body selected
    });
}

function planMission() {
    const selected = JSON.parse(document.getElementById('plan-mission-button').dataset.selectedComponents || '{}');
    const currentStats = JSON.parse(document.getElementById('plan-mission-button').dataset.currentStats || '{}');

    const missionDepth = parseInt(document.getElementById('mission-depth').value, 10);
    const missionDuration = parseInt(document.getElementById('mission-duration').value, 10);

    const resultsDiv = document.getElementById('mission-results');
    resultsDiv.classList.remove('success', 'failure');
    let resultsText = "";
    let success = true;
    let issues = [];

    // --- Validation Checks ---

    // Basic checks - require body and power source selected
    if (!selected.body) {
        issues.push("- ×œ× × ×‘×—×¨ ×’×•×£ ×œ×›×œ×™ ×”××—×§×¨. ×—×•×‘×” ×œ×‘×—×•×¨ ××‘× ×” ×’×•×£!");
        success = false;
    }
    if (!selected.power) {
         issues.push("- ×œ× × ×‘×—×¨ ××§×•×¨ ×›×•×— ×œ×›×œ×™ ×”××—×§×¨. ×—×•×‘×” ×œ×¦×™×™×“ ××ª ×”×—×œ×œ×™×ª ×‘×× ×•×¢ ×œ×‘!");
         success = false;
    }

     // If basic components are missing, report and stop
     if (!selected.body || !selected.power) {
          document.getElementById('results-text').textContent = "ğŸš« ×©×’×™××ª ×”×¨×›×‘×”:\n" + issues.join("\n");
          resultsDiv.classList.add('failure');
          return;
     }


    // 1. Budget check
    if (currentStats.totalCost > startingBudget) {
        issues.push(`- ×—×¨×™×’×” ××”×ª×§×¦×™×‘. ×¢×œ×•×ª ×”×”×¨×›×‘×”: $${currentStats.totalCost.toLocaleString()}, ×”×ª×§×¦×™×‘ ×©×œ×š: $${startingBudget.toLocaleString()}.`);
        success = false;
    }

    // 2. Depth check
    if (missionDepth > currentStats.minMaxDepth) {
         // Find components that limit the depth
         let limitingComponents = [];
         if(selected.body && selected.body.max_depth < missionDepth) limitingComponents.push(selected.body.name);
         if(selected.power && selected.power.max_depth < missionDepth) limitingComponents.push(selected.power.name);
         selected.research.forEach(item => {
             if (item.max_depth < missionDepth) limitingComponents.push(item.name);
         });
         if(selected.lighting && selected.lighting.max_depth < missionDepth) limitingComponents.push(selected.lighting.name);
         if(selected.navigation && selected.navigation.max_depth < missionDepth) limitingComponents.push(selected.navigation.name);

          // Remove duplicates and list them
         limitingComponents = [...new Set(limitingComponents)].join(", ");

         issues.push(`- ×¢×•××§ ×”××©×™××” ×”××ª×•×›× ×Ÿ (${missionDepth} ×') ×¢××•×§ ××“×™! ×”×•× ×—×•×¨×’ ××”×¢×•××§ ×”××§×¡×™××œ×™ ×©×”×¨×›×™×‘×™× ×©×‘×—×¨×ª ×¢×•××“×™× ×‘×• (${currentStats.minMaxDepth} ×'). ×”×¨×›×™×‘×™× ×”××’×‘×™×œ×™× ×”×: ${limitingComponents}.`);
         success = false;
     }


    // 3. Weight check
    const totalPayloadWeight = currentStats.payloadWeight; // Components excluding body
    const bodyWeightLimit = selected.body.weight_limit; // The body has its own weight + capacity for payload

    if (totalPayloadWeight > bodyWeightLimit) {
         issues.push(`- ××©×§×œ ×”×¦×™×•×“ ×©×”×¨×›×‘×ª (${totalPayloadWeight} ×§"×’) ×›×‘×“ ××“×™ ×¢×‘×•×¨ ×”×’×•×£ ×”× ×‘×—×¨ (${selected.body.name} ×‘×¢×œ ×›×•×©×¨ × ×©×™××” ×©×œ ${bodyWeightLimit} ×§"×’ ×‘×œ×‘×“).`);
        success = false;
    }

    // 4. Power check (energy capacity)
    const totalPowerWatts = currentStats.totalPowerDraw; // in Watts
    const totalPowerKW = totalPowerWatts / 1000; // in Kilowatts
    const requiredEnergyKWH = totalPowerKW * missionDuration; // in Kilowatt-hours

    if (requiredEnergyKWH > selected.power.capacity_kwh) {
        issues.push(`- ××§×•×¨ ×”×›×•×— ×”× ×‘×—×¨ (${selected.power.name}) ××™× ×• ××¡×¤×§ ×× ×¨×’×™×” ××¡×¤×§×ª ×œ××©×š ×”××©×™××” (${missionDuration} ×©×¢×•×ª).`);
        issues.push(`  ×¦×¨×™×›×ª ×× ×¨×’×™×” ×›×•×œ×œ×ª ×œ×”×¡×¤×§ ×”× ×•×›×—×™: ${requiredEnergyKWH.toFixed(2)} ×§×•×˜"×©. ×§×™×‘×•×œ×ª ××§×•×¨ ×”×›×•×—: ${selected.power.capacity_kwh} ×§×•×˜"×©.`);
        success = false;
    }

     // --- Results Generation ---

    if (success) {
        let capabilitiesList = selected.research.map(item => item.name);
        if(selected.lighting) capabilitiesList.push(selected.lighting.name);
        if(selected.navigation) capabilitiesList.push(selected.navigation.name);

        let capabilities = capabilitiesList.length > 0 ? capabilitiesList.join(", ") : "×œ×œ× ×¦×™×•×“ ××—×§×¨ ×™×™×¢×•×“×™";


        resultsText = "ğŸ‰ ×”×¦×œ×—×”! ×ª×›× ×•×Ÿ ×”××©×™××” ×××•×©×¨! ğŸ‰\n\n";
        resultsText += `×—×œ×œ×™×ª ×”×¢×•××§ ×©×œ×š ××•×›× ×” ×œ××¡×¢ ××œ ×”×œ× × ×•×“×¢!\n`;
        resultsText += `\n**×¡×™×›×•× ×”×”×¨×›×‘×”:**\n`;
        resultsText += `- ×’×•×£: ${selected.body.name}\n`;
        resultsText += `- ××§×•×¨ ×›×•×—: ${selected.power.name}\n`;
        resultsText += `- ×¦×™×•×“ ××“×¢×™: ${capabilities}\n`;
        resultsText += `\n**× ×ª×•× ×™× ×˜×›× ×™×™× ×©×œ ×”×—×œ×œ×™×ª:**\n`;
        resultsText += `- ×¢×œ×•×ª ×›×•×œ×œ×ª: $${currentStats.totalCost.toLocaleString()}\n`;
        resultsText += `- ××©×§×œ ×›×•×œ×œ: ${currentStats.totalWeight.toLocaleString()} ×§"×’\n`;
        resultsText += `- ×¦×¨×™×›×ª ×›×•×— ×‘×”×¤×¢×œ×”: ${currentStats.totalPowerDraw.toLocaleString()} W\n`;
        resultsText += `- ×¢×•××§ ××§×¡×™××œ×™ ×ª×™××•×¨×˜×™ (×œ×¤×™ ×¨×›×™×‘×™×): ${currentStats.minMaxDepth.toLocaleString()} ×'\n`;
        resultsText += `\n**×™×¢×“ ×”××©×™××”:**\n`;
        resultsText += `- ×¢×•××§ ××ª×•×›× ×Ÿ: ${missionDepth.toLocaleString()} ×'\n`;
        resultsText += `- ××©×š ××ª×•×›× ×Ÿ: ${missionDuration.toLocaleString()} ×©×¢×•×ª\n`;
        resultsText += `\n**×ª×•×›× ×™×ª ×”×¤×¢×œ×”:**\n`;
        resultsText += `×”×—×œ×œ×™×ª ×ª×¦×œ×•×œ ×œ×¢×•××§ ${missionDepth.toLocaleString()} ×' ×•×ª×‘×¦×¢ ××—×§×¨×™× ×‘×××¦×¢×•×ª ${capabilities} ×œ××©×š ${missionDuration.toLocaleString()} ×©×¢×•×ª. ×¦×¤×• ×œ×’×™×œ×•×™×™× ××¨×¢×™×©×™×!\n`;

        resultsDiv.classList.add('success');

    } else {
         resultsText = "ğŸ˜¢ ×”××©×™××” × ×›×©×œ×” ×‘×©×œ×‘ ×”×ª×›× ×•×Ÿ.\n\n";
         resultsText += "×”×—×œ×œ×™×ª ××™× ×” ×¢×•××“×ª ×‘×“×¨×™×©×•×ª ×”××©×™××” ××• ×”×ª×§×¦×™×‘ ×¢×§×‘ ×”×‘×¢×™×•×ª ×”×‘××•×ª:\n";
         resultsText += issues.join("\n");
         resultsText += "\n\n×× × ×—×–×•×¨ ×œ×‘×—×™×¨×ª ×”×¨×›×™×‘×™× ×•×©× ×” ××ª ×”×”×¨×›×‘×” ××• ××ª ×™×¢×“ ×”××©×™××” ×›×“×™ ×œ× ×¡×•×ª ×©×•×‘.";

         resultsDiv.classList.add('failure');
    }

    document.getElementById('results-text').textContent = resultsText;
}

// Add event listeners to all relevant inputs
document.querySelectorAll('#components-selection input').forEach(input => {
    input.addEventListener('change', updateStats);
});

// Add event listener to the plan mission button
document.getElementById('plan-mission-button').addEventListener('click', planMission);

// Initial stats update on page load
updateStats();

// Toggle explanation
document.getElementById('toggle-explanation').addEventListener('click', function() {
    const explanationDiv = document.getElementById('explanation');
    const isHidden = explanationDiv.style.display === 'none' || explanationDiv.style.display === '';
    if (isHidden) {
        explanationDiv.style.display = 'block';
        this.textContent = '×”×¡×ª×¨ ×”×¡×‘×¨ ×¢×œ ×—×§×¨ ×©×§×¢ ××¨×™×× ×”';
    } else {
        explanationDiv.style.display = 'none';
        this.textContent = '×”×¦×’/×”×¡×ª×¨ ×”×¡×‘×¨ ×¢×œ ×—×§×¨ ×©×§×¢ ××¨×™×× ×” ×•×”×ª× ××™× ×‘×ª×”×•×';
    }
});

</script>
```