---
title: "×œ×”×¦×™×œ ×©×¤×”: ×¡×™××•×œ×˜×•×¨ ×§×‘×œ×ª ×”×—×œ×˜×•×ª ×‘×©×™××•×¨ ×œ×©×•× ×™"
english_slug: saving-a-language-linguistic-preservation-decision-simulator
category: "×‘×œ×©× ×•×ª"
tags: ["×©×¤×•×ª ×‘×¡×›× ×”", "×©×™××•×¨ ×©×¤×•×ª", "×‘×œ×©× ×•×ª ×©×“×”", "×§×‘×œ×ª ×”×—×œ×˜×•×ª", "×× ×ª×¨×•×¤×•×œ×•×’×™×”"]
---
# ×œ×”×¦×™×œ ×©×¤×”: ××¡×¢ ××œ ×œ×‘ ×”××××¥ ×œ×©×™××•×¨

**×›×œ ×©×¤×” ×”×™× ×™×§×•× ×©×œ×.** ×™×§×•× ×”××›×™×œ ×‘×ª×•×›×• ××ª ×”×”×™×¡×˜×•×¨×™×”, ×”×ª×¨×‘×•×ª, ×”×ª×¤×™×¡×•×ª ×•×”×™×“×¢ ×”×™×™×—×•×“×™ ×©×œ ×§×”×™×œ×” ×× ×•×©×™×ª. ××‘×œ ×¢×•×œ××•×ª ×œ×©×•× ×™×™× ×¨×‘×™× ×”×•×œ×›×™× ×•× ×¢×œ××™×. ×›×©×™×•×ª×¨ ×•×™×•×ª×¨ ×“×•×‘×¨×™ ×©×¤×” ××¡×•×™××ª ×¢×•×–×‘×™× ××•×ª×”, ××• ×›×©×”×“×•×¨ ×”×¦×¢×™×¨ ××¤×¡×™×§ ×œ×¨×›×•×© ××•×ª×”, ×”×™× × ××¦××ª ×‘×¡×›× ×ª ×”×›×—×“×” ×§×¨×™×˜×™×ª.

×“××™×™× ×• ××ª ×¢×¦××›× ×‘×¨××© ×¦×•×•×ª ×”×¦×œ×” ××™×•×—×“, ×”×™×•×¦× ×œ××©×™××” ×§×“×—×ª× ×™×ª ×œ×ª×™×¢×•×“ ×•×œ×©×™××•×¨ ×©×¤×” ×¢×ª×™×§×” ×œ×¤× ×™ ×©×”×™× ×©×•×§×¢×ª ×‘×ª×”×•× ×”× ×©×™×™×”. ×ª×¦×˜×¨×›×• ×œ×§×‘×œ ×”×—×œ×˜×•×ª ×§×©×•×ª, ×œ××–×Ÿ ×‘×™×Ÿ ××©××‘×™× ××•×’×‘×œ×™×, ×–××Ÿ ××•×–×œ, ×”×¦×•×¨×š ×‘× ×ª×•× ×™× ×œ×©×•× ×™×™× ×•×”×—×©×™×‘×•×ª ×”×¢×œ×™×•× ×” ×©×œ ×‘× ×™×™×ª ×××•×Ÿ ×¢× ×”×§×”×™×œ×”. **×”×× ×ª×¦×œ×™×—×• ×œ×”×¦×™×œ ××ª ××” ×©××¤×©×¨?**

<div class="simulation-container">
    <div class="resources-panel">
        <h3>×××–×Ÿ ×”××©××‘×™×</h3>
        <div class="resource-item">
            <label for="time-meter">×–××Ÿ ×©× ×•×ª×¨:</label>
            <progress id="time-meter" value="100" max="100"></progress>
            <span id="time-value" class="resource-value">100%</span>
             <span class="resource-change" id="time-change"></span>
        </div>
        <div class="resource-item">
            <label for="budget-meter">×ª×§×¦×™×‘ ×¤×¨×•×™×§×˜:</label>
            <progress id="budget-meter" value="100" max="100"></progress>
            <span id="budget-value" class="resource-value">100%</span>
             <span class="resource-change" id="budget-change"></span>
        </div>
        <div class="resource-item">
            <label for="trust-meter">×××•×Ÿ ×§×”×™×œ×”:</label>
            <progress id="trust-meter" value="100" max="100"></progress>
            <span id="trust-value" class="resource-value">100%</span>
             <span class="resource-change" id="trust-change"></span>
        </div>
         <div class="data-collected">
            <h4>× ×ª×•× ×™× ×©×ª×™×¢×“×ª×:</h4>
            <p><i class="icon-book"></i> ×“×§×“×•×§: <span id="data-grammar">0</span></p>
            <p><i class="icon-font"></i> ××•×¦×¨ ××™×œ×™×: <span id="data-lexicon">0</span></p>
            <p><i class="icon-chat"></i> × ×¨×˜×™×‘×™× ×•×¡×™×¤×•×¨×™×: <span id="data-narratives">0</span></p>
            <p><i class="icon-music"></i> ×™×“×¢ ××¡×•×¨×ª×™/×˜×§×¡×™: <span id="data-traditionalKnowledge">0</span></p>
         </div>
    </div>

    <div class="simulation-area">
        <div id="dilemma-context" class="context-box"></div>
        <div id="options" class="options-panel"></div>
        <div id="summary-area" class="summary-area" style="display: none;"></div>
    </div>
</div>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&display=swap'); /* More modern Hebrew-friendly font */

    body {
         font-family: 'Heebo', sans-serif;
         line-height: 1.7;
         color: #333;
         background-color: #f0f2f5; /* Light background */
         padding: 20px;
    }

    h1, h3, h4 {
        color: #1a237e; /* Dark blue for headings */
        font-weight: 700;
    }

    .simulation-container {
        direction: rtl;
        text-align: right;
        max-width: 900px;
        margin: 30px auto;
        border: none; /* Remove border */
        padding: 30px;
        border-radius: 12px;
        background-color: #ffffff; /* White background */
        box-shadow: 0 8px 16px rgba(0,0,0,0.1); /* Softer shadow */
        display: flex;
        flex-wrap: wrap;
        gap: 30px; /* Increased gap */
    }

    .resources-panel {
        flex: 1;
        min-width: 220px; /* Wider min-width */
        padding: 20px;
        border: none; /* Remove border */
        border-radius: 10px;
        background-color: #e8eaf6; /* Light blueish background */
        box-shadow: inset 0 2px 5px rgba(0,0,0,0.08); /* Inner shadow */
        display: flex;
        flex-direction: column;
        gap: 15px; /* Space between resource items */
    }

    .resources-panel h3 {
        margin-top: 0;
        text-align: center;
        color: #1a237e;
        border-bottom: 2px solid #c5cae9; /* Blueish border */
        padding-bottom: 15px;
        margin-bottom: 20px;
        font-size: 1.3em;
    }

    .resource-item {
        margin-bottom: 5px; /* Less space here, more from gap */
        display: flex;
        align-items: center;
        position: relative; /* For positioning resource changes */
    }

    .resource-item label {
        flex-grow: 1; /* Take available space */
        margin-bottom: 0; /* Remove margin-bottom */
        font-weight: bold;
        color: #3f51b5; /* Blue */
        font-size: 0.95em;
    }

     .resource-item progress {
        width: 120px; /* Fixed width for progress bar */
        height: 18px;
        vertical-align: middle;
        margin-left: 10px;
        border-radius: 5px;
        overflow: hidden; /* Ensure accent-color works visually */
        -webkit-appearance: none;
        appearance: none;
    }

    .resource-item progress::-webkit-progress-bar {
        background-color: #e0e0e0;
        border-radius: 5px;
    }

    .resource-item progress::-webkit-progress-value {
         transition: width 0.5s ease-in-out, background-color 0.3s ease; /* Animate width and color */
    }

     .resource-item progress::-moz-progress-bar {
         transition: width 0.5s ease-in-out, background-color 0.3s ease; /* Animate width and color */
    }


    .resource-value {
        display: inline-block;
        width: 50px; /* Fixed width for value */
        text-align: left; /* Align left for RTL */
        font-size: 0.9em;
        color: #1a237e; /* Dark blue value */
        vertical-align: middle;
        font-weight: bold;
         transition: color 0.3s ease; /* Animate value color */
    }

     .resource-change {
        position: absolute;
        left: 0; /* Position near the value */
        top: 50%;
        transform: translateY(-50%);
        font-size: 0.8em;
        font-weight: bold;
        opacity: 0;
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        pointer-events: none; /* Don't interfere with clicks */
     }

    .resource-change.show {
        opacity: 1;
        transform: translateY(-100%); /* Float up */
    }

     .resource-change.positive { color: #4CAF50; } /* Green */
     .resource-change.negative { color: #f44336; } /* Red */


    .data-collected {
        margin-top: 20px;
        padding-top: 15px;
        border-top: 1px dashed #c5cae9; /* Dotted separator */
    }

    .data-collected h4 {
        text-align: center;
        color: #3f51b5;
        margin-bottom: 10px;
        font-size: 1.1em;
    }

    .data-collected p {
        margin-bottom: 8px;
        color: #555;
        font-size: 0.9em;
        display: flex;
        align-items: center;
    }

    .data-collected p i {
        margin-left: 8px; /* Space for icon */
        color: #7986cb; /* Lighter blue icon */
    }

    .data-collected p span {
        font-weight: bold;
        color: #1a237e; /* Dark blue value */
    }

     /* Basic icons - using characters as a fallback */
     .icon-book::before { content: 'ğŸ“–'; margin-left: 5px; }
     .icon-font::before { content: 'ğŸ…°ï¸'; margin-left: 5px; }
     .icon-chat::before { content: 'ğŸ—£ï¸'; margin-left: 5px; }
     .icon-music::before { content: 'ğŸ¶'; margin-left: 5px; }


    .simulation-area {
        flex: 2;
        min-width: 350px; /* Wider min-width */
        display: flex;
        flex-direction: column;
        gap: 20px; /* Space between context and options */
    }

    .context-box {
        background-color: #e3f2fd; /* Light blue */
        border: 1px solid #bbdefb; /* Lighter blue border */
        padding: 20px;
        margin-bottom: 0; /* Removed margin, using gap */
        border-radius: 8px;
        line-height: 1.7;
        color: #1a237e; /* Dark blue text */
        box-shadow: inset 0 1px 4px rgba(0,0,0,0.06);
        animation: fadeIn 0.8s ease-out; /* Fade in animation */
    }

    .context-box h3 {
        margin-top: 0;
        color: #1a237e;
        margin-bottom: 10px;
        font-size: 1.2em;
    }

    .options-panel {
        display: flex;
        flex-direction: column;
        gap: 10px; /* Space between buttons */
    }

    .options-panel button {
        display: block;
        width: 100%;
        padding: 15px 20px; /* More padding */
        margin-bottom: 0; /* Removed margin, using gap */
        border: none;
        border-radius: 8px; /* Rounded corners */
        background-color: #5c6bc0; /* Medium blue */
        color: white;
        font-size: 1.05em;
        cursor: pointer;
        text-align: right;
        transition: background-color 0.3s ease, transform 0.1s ease; /* Smooth transitions */
        box-shadow: 0 4px 6px rgba(0,0,0,0.1); /* Button shadow */
    }

    .options-panel button:hover:not(:disabled) {
        background-color: #3949ab; /* Darker blue on hover */
         box-shadow: 0 6px 8px rgba(0,0,0,0.15);
        transform: translateY(-2px); /* Lift button slightly */
    }

     .options-panel button:active:not(:disabled) {
        background-color: #283593; /* Even darker on click */
        transform: translateY(0); /* Press button down */
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
     }

     .options-panel button:disabled {
        background-color: #bdbdbd; /* Gray for disabled */
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
        opacity: 0.7;
    }

    .summary-area {
        background-color: #e8f5e9; /* Light green */
        border: 1px solid #c8e6c9; /* Lighter green border */
        padding: 25px;
        border-radius: 10px;
        color: #2e7d32; /* Dark green text */
        text-align: center;
        animation: fadeIn 0.8s ease-out; /* Fade in */
    }

    .summary-area h3 {
        margin-top: 0;
        color: #1b5e20; /* Darker green heading */
        margin-bottom: 15px;
        font-size: 1.4em;
    }

    .summary-area h4 {
        margin-top: 20px;
        margin-bottom: 10px;
        color: #388e3c; /* Medium green heading */
        font-size: 1.1em;
        border-bottom: 1px solid #a5d6a7;
        padding-bottom: 5px;
        display: inline-block; /* Shrink border to content */
    }

    .summary-area p {
        margin-bottom: 8px;
        color: #424242; /* Dark gray for general text */
        font-size: 0.95em;
    }

     .summary-area p strong {
         color: #1b5e20; /* Bold parts darker */
     }

     /* Specific summary result styling */
     .summary-area .result-poor { color: #d32f2f; font-weight: bold; } /* Red for poor */
     .summary-area .result-fair { color: #fbc02d; font-weight: bold; } /* Orange for fair */
     .summary-area .result-good { color: #388e3c; font-weight: bold; } /* Green for good */
     .summary-area .result-excellent { color: #1b5e20; font-weight: bold; } /* Dark green for excellent */


    .explanation-button {
        display: block;
        width: fit-content;
        margin: 30px auto; /* More space */
        padding: 12px 25px; /* More padding */
        background-color: #00796b; /* Teal */
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1.1em;
        transition: background-color 0.3s ease, transform 0.1s ease;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .explanation-button:hover {
        background-color: #004d40; /* Darker teal */
        transform: translateY(-2px);
        box-shadow: 0 6px 8px rgba(0,0,0,0.15);
    }
     .explanation-button:active {
         background-color: #00332e;
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
     }


    .explanation-content {
        display: none;
        margin-top: 25px;
        padding: 25px;
        border: none; /* Remove border */
        border-radius: 10px;
        background-color: #e1f5fe; /* Very light blue */
        box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        line-height: 1.8;
        animation: fadeIn 0.8s ease-out; /* Fade in */
    }

    .explanation-content h2 {
        border-bottom: 2px solid #0288d1; /* Blue border */
        padding-bottom: 12px;
        margin-top: 0;
        color: #01579b; /* Darker blue */
        font-size: 1.5em;
    }

    .explanation-content h3 {
        margin-top: 25px;
        margin-bottom: 10px;
        color: #0277bd; /* Medium blue */
        font-size: 1.2em;
    }

    .explanation-content p, .explanation-content ul {
         color: #424242; /* Dark gray */
    }

    .explanation-content ul {
        list-style: disc inside;
        padding-right: 20px;
    }

    .explanation-content li {
        margin-bottom: 8px;
    }

     /* Keyframe animations */
     @keyframes fadeIn {
         from { opacity: 0; }
         to { opacity: 1; }
     }

      @keyframes slideUpFadeOut {
         0% { opacity: 1; transform: translateY(0); }
         100% { opacity: 0; transform: translateY(-20px); }
     }

</style>

<button class="explanation-button" onclick="toggleExplanation()">×”×¦×’×ª ×”×¡×‘×¨ × ×•×¡×£ ×¢×œ ×©×™××•×¨ ×©×¤×•×ª</button>

<div id="explanation" class="explanation-content">
    <h2>×”×¡×‘×¨ × ×•×¡×£: ×××—×•×¨×™ ×”×§×œ×¢×™× ×©×œ ×©×™××•×¨ ×©×¤×•×ª</h2>
    <p>×©×™××•×¨ ×©×¤×•×ª ×”×•× ××××¥ ×§×¨×™×˜×™ ×œ× ×¨×§ ×œ××¢×Ÿ ×”×©×¤×” ×¢×¦××”, ××œ× ×œ××¢×Ÿ ×¢×•×œ××•×ª ×©×œ××™× ×©×œ ×ª×¨×‘×•×ª, ×™×“×¢ ×•×”×™×¡×˜×•×¨×™×” ×©×”×™× ××›×™×œ×”.</p>

    <h3>××”×™ ×©×¤×” ×‘×¡×›× ×ª ×”×›×—×“×” ×•××“×•×¢ ×—×©×•×‘ ×œ×©××¨ ××•×ª×”?</h3>
    <p>×©×¤×” × ×—×©×‘×ª ×‘×¡×›× ×ª ×”×›×—×“×” ×›××©×¨ ×”×“×•×¨ ×”×¦×¢×™×¨ ××¤×¡×™×§ ×œ×œ××•×“ ××•×ª×” ××• ×œ×”×©×ª××© ×‘×” ×‘××•×¤×Ÿ ×¤×¢×™×œ. ×”×¡×™×‘×•×ª ×œ×›×š ××’×•×•× ×•×ª: ×”×’×™×¨×”, ×œ×—×¥ ×—×‘×¨×ª×™-×›×œ×›×œ×™ ×œ×©×™××•×© ×‘×©×¤×” ×“×•××™× × ×˜×™×ª, ××“×™× ×™×•×ª ×××©×œ×ª×™×ª, ××• ××•×‘×“×Ÿ ×“×•×‘×¨×™ ×”×©×¤×” ×‘×©×œ ××¡×•× ×•×ª ××• ×’×™×œ. ×—×©×™×‘×•×ª ×”×©×™××•×¨ × ×•×‘×¢×ª ××›×š ×©×©×¤×•×ª ×”×Ÿ ×××’×¨ ×™×“×¢ ×™×™×—×•×“×™ ×¢×œ ×”×¢×•×œ×, ×¢×œ ×¦××—×™×, ×—×™×•×ª, ×”×™×¡×˜×•×¨×™×” ××§×•××™×ª, ××™×ª×•×œ×•×’×™×” ×•×¢×•×“. ×›×œ ×©×¤×” ×”×™× ×’× ××‘× ×” ×§×•×’× ×™×˜×™×‘×™ ×™×™×—×•×“×™ ×•×ª×¤×™×¡×ª ×¢×•×œ× ××—×¨×ª. ××•×‘×“×Ÿ ×©×¤×” ×”×•× ××•×‘×“×Ÿ ×‘×œ×ª×™ ×”×¤×™×š ×©×œ ×™×“×¢ ×•×’×™×•×•×Ÿ ×ª×¨×‘×•×ª×™ ×•×× ×•×©×™.</p>

    <h3>×”××ª×’×¨×™× ×”×™×™×—×•×“×™×™× ×©×œ ×ª×™×¢×•×“ ×©×¤×•×ª ×‘×¡×›× ×”</h3>
    <p>×¢×‘×•×“×” ×¢× ×©×¤×•×ª ×‘×¡×›× ×” ××¦×™×‘×” ××ª×’×¨×™× ×¨×‘×™×: **×–××Ÿ** ×”×•× ××©××‘ ××•×’×‘×œ, ×œ×¨×•×‘ ×¢×§×‘ ×’×™×œ× ×”××ª×§×“× ×©×œ ×”×“×•×‘×¨×™× ×”××—×¨×•× ×™×. **××©××‘×™×** (×›×¡×¤×™×™× ×•×× ×•×©×™×™×) ×›××¢×˜ ×ª××™×“ ××™× × ××¡×¤×™×§×™× ×œ××©×™××” ×”×¢×¦×•××” ×©×œ ×ª×™×¢×•×“ ××œ×. **× ×’×™×©×•×ª** ×¤×™×–×™×ª ×•×œ×•×’×™×¡×˜×™×ª ×œ×§×”×™×œ×•×ª ××¨×•×—×§×•×ª ×¢×œ×•×œ×” ×œ×”×™×•×ª ×§×©×” ×•×™×§×¨×”. ××ª×’×¨×™× **××ª×™×™×** ×›×•×œ×œ×™× ×¨×’×™×©×•×ª ×ª×¨×‘×•×ª×™×ª, ×©××™×¨×” ×¢×œ ×¤×¨×˜×™×•×ª ×”×“×•×‘×¨×™×, ×•×”×‘×˜×—×ª ×”×¡×›××” ××“×¢×ª ×•×©×™×ª×•×£ ×¤×¢×•×œ×” ×××™×ª×™ ××”×§×”×™×œ×”, ×›×•×œ×œ ×”×—×–×¨×ª ×—×•××¨×™× ××ª×•×¢×“×™× ×œ×§×”×™×œ×”.</p>

    <h3>×¡×•×’×™ ×ª×™×¢×•×“ ×œ×©×•× ×™</h3>
    <p>×ª×™×¢×•×“ ×©×¤×” ×©×•××£ ×œ×ª×¤×•×¡ ×›××” ×©×™×•×ª×¨ ×”×™×‘×˜×™× ×©×œ×”: **×œ×§×¡×™×§×•×Ÿ** (××•×¦×¨ ××™×œ×™×) ×”×•× ×”×‘×¡×™×¡, ×œ×¨×•×‘ ×‘×¦×•×¨×ª ××™×œ×•×Ÿ. **×“×§×“×•×§** ××ª×¢×“ ××ª ××‘× ×” ×”×©×¤×” â€“ ×¤×•× ×•×œ×•×’×™×” (×¦×œ×™×œ×™×), ××•×¨×¤×•×œ×•×’×™×” (××‘× ×” ××™×œ×™×), ×•×ª×—×‘×™×¨ (××‘× ×” ××©×¤×˜×™×). **× ×¨×˜×™×‘×™×** (×¡×™×¤×•×¨×™×, ×©×™×—×•×ª) ×—×™×•× ×™×™× ×œ×”×‘× ×ª ×”×©×¤×” ×‘×”×§×©×¨ ×˜×‘×¢×™ ×•×œ×§×¡×™×§×ª× ×¢×©×™×¨×”. **×™×“×¢ ××¡×•×¨×ª×™**, **×©×™×¨×™×**, **×¤×•×œ×§×œ×•×¨** â€“ ××œ×• ××©××¨×™× ×™×“×¢ ×ª×¨×‘×•×ª×™ ×™×§×¨ ×¢×¨×š ×”××‘×•×˜× ×‘×©×¤×”.</p>

    <h3>×©×—×§× ×™× ××¨×›×–×™×™× ×‘×ª×”×œ×™×š</h3>
    <p>×¦×•×•×ª ×”×ª×™×¢×•×“ ×›×•×œ×œ ×‘×“×¨×š ×›×œ×œ **×‘×œ×©× ×™×** ×”××ª××—×™× ×‘×œ×©× ×•×ª ×©×“×”. **×—×‘×¨×™ ×”×§×”×™×œ×”** ×”× ×”×“×•×‘×¨×™× ×•×”×™×“×¢× ×™× ×”××¨×›×–×™×™×, ×•×©×•×ª×¤×•×ª× ×—×™×•× ×™×ª. **××•×¡×“×•×ª ××—×§×¨** (××•× ×™×‘×¨×¡×™×˜××•×ª) ××¡×¤×§×™× ××¡×’×¨×ª ××§×“××™×ª ×•×ª××™×›×”. **××¨×’×•× ×™×** ×‘×™× ×œ××•××™×™× ×•××§×•××™×™× ×¢×©×•×™×™× ×œ×¡×¤×§ ××™××•×Ÿ ×•×œ×¡×™×™×¢ ×‘×œ×•×’×™×¡×˜×™×§×”.</p>

    <h3>×§×‘×œ×ª ×”×—×œ×˜×•×ª ×•×¡×“×¨×™ ×¢×“×™×¤×•×™×•×ª ×‘×©×™××•×¨ ×œ×©×•× ×™</h3>
    <p>×›×™×•×•×Ÿ ×©××©××‘×™× ×ª××™×“ ××•×’×‘×œ×™×, ×™×© ×¦×•×¨×š ××ª××™×“ ×œ×§×‘×•×¢ ×¡×“×¨×™ ×¢×“×™×¤×•×™×•×ª. ×”×× ×œ×”×ª××§×“ ×‘×ª×™×¢×•×“ ×”××‘× ×” ×”×œ×©×•× ×™ (×“×§×“×•×§/×œ×§×¡×™×§×•×Ÿ) ××• ×‘×ª×•×›×Ÿ ×”×ª×¨×‘×•×ª×™ (×¡×™×¤×•×¨×™×/×™×“×¢ ××¡×•×¨×ª×™)? ×”×× ×œ×¢×‘×•×“ ×¢× ×”×“×•×‘×¨×™× ×”××‘×•×’×¨×™× ×‘×™×•×ª×¨ ×©×©×¤×ª× ×¢×©×™×¨×” ××š ×§×©×” ×™×•×ª×¨ ×œ×”×‘× ×”, ××• ×¢× ×¦×¢×™×¨×™× ×™×•×ª×¨ ×©× ×’×™×©×™× ×™×•×ª×¨ ××š ×©×¤×ª× ××•×œ×™ ×›×‘×¨ ××•×©×¤×¢×ª ×™×•×ª×¨ ××©×¤×•×ª ××—×¨×•×ª? ×›×™×¦×“ ×××–× ×™× ×‘×™×Ÿ ×ª×™×¢×•×“ ×œ×‘×™×Ÿ ×¤×¢×•×œ×•×ª ×”×—×™×™××”?</p>

    <h3>×ª×¤×§×™×“ ×”×§×”×™×œ×” ×“×•×‘×¨×ª ×”×©×¤×” ×‘×ª×”×œ×™×š ×”×ª×™×¢×•×“ ×•×”×”×—×™×™××”</h3>
    <p>××¢×•×¨×‘×•×ª ×”×§×”×™×œ×” ××™× ×” ×¨×§ ×”×›×¨×— ××ª×™ ××œ× ×§×¨×™×˜×™×ª ×œ×”×¦×œ×—×ª ×”×¤×¨×•×™×§×˜. ×”×§×”×™×œ×” ×”×™× ×”××§×•×¨ ×œ×™×“×¢, ×•×”×™× ×’× ×”×‘×¢×œ×™× ×”×××™×ª×™×™× ×©×œ ×”×©×¤×”. ×©×™×ª×•×£ ×—×‘×¨×™ ×§×”×™×œ×” ×‘×ª×”×œ×™×š ×”×ª×™×¢×•×“ (×›×¢×•×–×¨×™ ××—×§×¨, ××ª××œ×œ×™×) ×•×‘×ª×”×œ×™×š ×”×”×—×™×™××” (×™×¦×™×¨×ª ×—×•××¨×™ ×œ×™××•×“, ×¡×“× ××•×ª) ××‘×˜×™×— ××ª ×”××©×š ×”×©×™××•×© ×‘×—×•××¨×™× ×”××ª×•×¢×“×™× ×•××ª ×”×¡×™×›×•×™ ×œ×©××¨ ××ª ×”×©×¤×” ×œ××•×¨×š ×–××Ÿ, ×’× ×× ×¨×§ ×‘×¦×•×¨×” ××ª×•×¢×“×ª.</p>

    <h3>×”×©×œ×›×•×ª ×©×œ ××™-×ª×™×¢×•×“ ××• ×ª×™×¢×•×“ ×—×œ×§×™</h3>
    <p>×× ×©×¤×” × ×›×—×“×ª ×œ×œ× ×ª×™×¢×•×“ ××¡×¤×§, ××•×‘×“ ××™×ª×” ×¢×•×œ× ×©×œ× ×©×œ ×™×“×¢, ×ª×¨×‘×•×ª, ×•×”×™×¡×˜×•×¨×™×” ×©××™×Ÿ ×œ×• ×ª×—×œ×™×£. ×ª×™×¢×•×“ ×—×œ×§×™ ××©××¢×• ×©×—×œ×§×™× ××”×©×¤×” ××• ××”×™×“×¢ ×”××§×•×“×“ ×‘×” ×”×•×œ×›×™× ×œ××™×‘×•×“ ×œ× ×¦×—. ×–×”×• ×œ× ×¨×§ ×”×¤×¡×“ ××§×“××™, ××œ× ××•×‘×“×Ÿ ×œ××•×¨×©×ª ×”×× ×•×©×™×ª ×›×•×œ×”.</p>

    <h3>×”×¦×œ×—×” ×‘×©×™××•×¨ ×œ×©×•× ×™: ×”×’×“×¨×•×ª ×•××“×“×™× ×©×•× ×™×</h3>
    <p>×”×¦×œ×—×” ××™× ×” ×‘×”×›×¨×— '×”×—×™×™××” ××œ××”' ×•×”×—×–×¨×ª ×”×©×¤×” ×œ×©×™××•×© ×™×•××™×•××™ ×¨×—×‘ (××£ ×©×–×” ×”×™×¢×“ ×”××™×“×™××œ×™). ×”×¦×œ×—×” ×™×›×•×œ×” ×œ×”×™××“×“ ×’× ×‘×™×¦×™×¨×ª ××¨×›×™×•×Ÿ ××§×™×£ ×©×××¤×©×¨ ×œ×—×•×§×¨×™× ×¢×ª×™×“×™×™× ×œ×œ××•×“ ××ª ×”×©×¤×”, ××• ×¢×œ ×™×“×™ ×”×¢×œ××ª ××•×“×¢×•×ª ×œ×—×©×™×‘×•×ª ×”×©×¤×” ×‘×ª×•×š ×”×§×”×™×œ×” ×•××—×•×¦×” ×œ×”, ××• ××¤×™×œ×• ×‘×”×¦×œ×—×ª ×¤×¨×•×™×™×§×˜×™ ×ª×™×¢×•×“ ×¡×¤×¦×™×¤×™×™×.</p>
</div>


<script>
    const resources = {
        time: 100,
        budget: 100,
        trust: 100,
        data: {
            grammar: 0,
            lexicon: 0,
            narratives: 0,
            traditionalKnowledge: 0
        }
    };

    const dilemmas = [
        {
            context: "××ª× ××’×™×¢×™× ×œ×›×¤×¨ × ×™×“×— ×‘××–×•×¨ ××¨×•×—×§. ×”×“×•×‘×¨×™× ×”×¤×¢×™×œ×™× ×”×™×—×™×“×™× ×©×œ ×©×¤×ª '×œ×™×¡× ×”' ×”× ×§×‘×•×¦×” ×§×˜× ×” ×©×œ ×–×§× ×™× ××¢×œ ×’×™×œ 70. ×”× ×¡×§×¤×˜×™×™× ×œ×’×‘×™ ×–×¨×™×, ××š ××•×›× ×™× ×œ×©×§×•×œ ×œ×¢×–×•×¨. ×”×–××Ÿ ×“×•×—×§, ×•×¨×›×™×©×ª ×××•×Ÿ ×”×§×”×™×œ×” ×”×™× ×§×¨×™×˜×™×ª ××š ×¦×•×¨×›×ª ××©××‘×™× ×™×§×¨×™×.",
            options: [
                {
                    text: "×”×©×§×™×¢×• ×–××Ÿ ×•×ª×§×¦×™×‘ ××©××¢×•×ª×™×™× ×‘×‘× ×™×™×ª ×××•×Ÿ ×¢× ×”×§×”×™×œ×” ×•×¨×§ ××—×¨ ×›×š ×”×ª×—×™×œ×• ×‘×ª×™×¢×•×“ ×œ×©×•× ×™ ×¨×©××™.",
                    effects: { time: -15, budget: -5, trust: +25, data: {}}
                },
                {
                    text: "×”×ª×—×™×œ×• ××™×“ ×‘×¢×‘×•×“×” ×œ×©×•× ×™×ª ×××•×§×“×ª ×¢× ×”×“×•×‘×¨×™× ×”×–××™× ×™× ×‘×™×•×ª×¨, ×”×ª××§×“×• ×‘××™×¡×•×£ ××•×¦×¨ ××™×œ×™× ×‘×¡×™×¡×™. ×¤×¢×•×œ×” ×–×• ×¢×œ×•×œ×” ×œ×”×™×ª×¤×¡ ×›×—×•×¡×¨ ×›×‘×•×“ ××• ×¡×‘×œ× ×•×ª.",
                    effects: { time: -10, budget: -10, trust: -10, data: { lexicon: +15 }}
                },
                {
                    text: "× ×¡×• ×œ××¦×•× ×—×‘×¨×™ ×§×”×™×œ×” ×¦×¢×™×¨×™× ×™×•×ª×¨ (×× ×§×™×™××™×) ×©××•×œ×™ ×–×•×›×¨×™× ×§×¦×ª ××”×©×¤×”. ×”×©×§×¢×” ×–×• ×¢×©×•×™×” ×œ×”×©×ª×œ× ×‘×¢×ª×™×“ ××š ×’×•×–×œ×ª ×–××Ÿ ×™×§×¨ ×›×¨×’×¢.",
                    effects: { time: -15, budget: -10, trust: +5, data: {}} // Might find future speakers, but initial data collection is slow
                }
            ]
        },
         {
            context: "×××•×Ÿ ×”×§×”×™×œ×” × ××•×š ××š ×”×¦×œ×—×ª× ×œ×”×ª×—×™×œ ×œ×¢×‘×•×“ ×¢× ×›××” ×“×•×‘×¨×™× ××‘×•×’×¨×™×. ×”×“×•×‘×¨×™× ×”×˜×•×‘×™× ×‘×™×•×ª×¨ ×¤× ×•×™×™× ×¨×§ ×‘×‘×§×¨×™×, ××” ×©×¤×•×’×¢ ×‘×œ×•×— ×”×–×× ×™× ×©×œ ×”×¦×•×•×ª. ×‘× ×•×¡×£, ×”×“×•×‘×¨×™× ××‘×§×©×™× ×ª×©×œ×•× ×”×•×’×Ÿ ×¢×‘×•×¨ ×–×× × ×•×™×“×¢×, ×“×‘×¨ ×©×œ× ×”×™×” ××ª×•×›× ×Ÿ ×‘××œ×•××• ×‘×ª×§×¦×™×‘ ×”×¨××©×•× ×™. ×›×™×¦×“ ×ª× ×”×œ×• ××ª ×”××¦×‘?",
            options: [
                {
                    text: "×©×œ××• ×œ×“×•×‘×¨×™× ×‘× ×“×™×‘×•×ª, ×’× ×× ×–×” ×—×•×¨×’ ××”×ª×§×¦×™×‘ ×”××ª×•×›× ×Ÿ. ×¢×“×™×¤×•×ª ×¢×œ×™×•× ×” ×”×™× ×”× ×ª×•× ×™× ×”×˜×•×‘×™× ×‘×™×•×ª×¨ ×•×”×™×—×¡×™× ×¢× ×”×§×”×™×œ×”.",
                    effects: { time: -5, budget: -20, trust: +15, data: {}}
                },
                {
                    text: "× ×¡×• ×œ×©×›× ×¢ ××ª ×”×“×•×‘×¨×™× ×œ×¢×‘×•×“ ×’× ×‘×©×¢×•×ª ××—×¨ ×”×¦×”×¨×™×™×, ×•×œ×”×¦×™×¢ ×œ×”× ×ª×©×œ×•× ×¡××œ×™ ×™×•×ª×¨. ×™×™×ª×›×Ÿ ×©×ª×¤×’×¢×• ×‘×××•×Ÿ ××• ×‘×™×›×•×œ×ª ×œ×”×©×™×’ ××ª ×”×“×•×‘×¨×™× ×”×˜×•×‘×™× ×‘×™×•×ª×¨.",
                    effects: { time: -10, budget: -5, trust: -10, data: {}} // Risk losing trust/data
                },
                 {
                    text: "×”×ª××§×“×• ×‘×ª×™×¢×•×“ ×—×•××¨×™× ×©××™× × ×“×•×¨×©×™× × ×•×›×—×•×ª ×™×©×™×¨×” ×ª××™×“, ×›××• × ×™×ª×•×— ×”×§×œ×˜×•×ª ×§×™×™××•×ª ××• ×¢×‘×•×“×” ×¢×œ ×ª×•×›× ×”. ×¤×ª×¨×•×Ÿ ×–×” ×¤×—×•×ª ×ª×œ×•×™ ×‘×œ×•×— ×”×–×× ×™× ×©×œ ×”×“×•×‘×¨×™× ××š ×¢×œ×•×œ ×œ×”××˜ ××ª ××™×¡×•×£ ×”× ×ª×•× ×™× ×”×—×“×©×™×.",
                    effects: { time: -5, budget: -5, trust: -5, data: { grammar: +10 }} // Less dependency on speakers, but slower data input
                }
            ]
        },
         {
            context: "×’×™×œ×™×ª× ×©×“×•×‘×¨ ×–×§×Ÿ ×‘××™×•×—×“ ×–×•×›×¨ ×©×™×¨×™× ×˜×§×¡×™×™× × ×“×™×¨×™× ×‘×©×¤×” â€“ ××•×¦×¨ ×ª×¨×‘×•×ª×™ ×©××™×Ÿ ×œ×• ×ª×—×œ×™×£. ×ª×™×¢×•×“× ×™×“×¨×•×© ×¦×™×•×“ ×”×§×œ×˜×” ××™×›×•×ª×™ ×™×•×ª×¨ ×•×–××Ÿ ×”×ª××—×•×ª ×‘×”×‘× ×ª ×”×§×©×¨×™× ×ª×¨×‘×•×ª×™×™×, ××” ×©×™×’×–×•×œ ××©××‘×™× ×™×§×¨×™× ×©×”×•×§×¦×• ×œ×ª×™×¢×•×“ ×“×§×“×•×§×™ ×©×™×˜×ª×™.",
            options: [
                {
                    text: "×”×§×¦×• ××ª ×”××©××‘×™× ×”×“×¨×•×©×™× ×œ×ª×™×¢×•×“ ××¢××™×§ ×©×œ ×”×©×™×¨×™× ×”×˜×§×¡×™×™× ×”×™×™×—×•×“×™×™×, ×’× ×‘××—×™×¨ ×¤×’×™×¢×” ×‘×§×¦×‘ ×ª×™×¢×•×“ ×”×“×§×“×•×§.",
                    effects: { time: -15, budget: -15, trust: +10, data: { traditionalKnowledge: +25 }}
                },
                {
                    text: "×•×ª×¨×• ×¢×œ ×”×ª×™×¢×•×“ ×”××¢××™×§ ×©×œ ×”×©×™×¨×™× ×•×”××©×™×›×• ×œ×”×ª××§×“ ×‘×ª×™×¢×•×“ ×”×“×§×“×•×§ ×•××•×¦×¨ ×”××™×œ×™× ×”×‘×¡×™×¡×™. ×–×• ×”×—×œ×˜×” ×¤×¨×’××˜×™×ª ××š ×¢×œ×•×œ×” ×œ×”×™×•×ª ××•×‘×“×Ÿ ×‘×œ×ª×™ ×”×¤×™×š.",
                    effects: { time: -5, budget: -5, trust: -5, data: { grammar: +10, lexicon: +10 }}
                },
                 {
                    text: "× ×¡×• ×œ×’×™×™×¡ ××™××•×Ÿ × ×•×¡×£ ×‘××™×•×—×“ ×¢×‘×•×¨ ×¤×¨×•×™×§×˜ ×ª×™×¢×•×“ ×”×©×™×¨×™×. ×–×”×• ×”×™××•×¨ ×©×™×›×•×œ ×œ×”×¨×•×•×™×— ×œ×›× ××©××‘×™× ×™×™×¢×•×“×™×™×, ××š ×’× ×¢×œ×•×œ ×œ×¢×œ×•×ª ×œ×›× ×‘×–××Ÿ ×•×‘××××¥ ×œ×œ× ×”×¦×œ×—×”.",
                    effects: { time: -10, budget: -5, trust: +5, data: {}} // Might gain resources, or lose time/trust
                }
            ]
        },
        {
            context: "××—×“ ×”×“×•×‘×¨×™× ×”××¨×›×–×™×™× ×•×”×™×“×¢× ×™× ×—×œ×” ×•××™× ×• ×™×›×•×œ ×œ×¢×‘×•×“ ×™×•×ª×¨ ×‘×™×¢×™×œ×•×ª. ×”×•× ××¦×™×¢ ×©×‘×Ÿ ××©×¤×—×” ×¦×¢×™×¨ ×™×•×ª×¨, ×©×–×•×›×¨ ××¢×˜ ××”×©×¤×” (×’×¨×¡×” ××•×“×¨× ×™×ª ×™×•×ª×¨), ×™×—×œ×™×£ ××•×ª×•. ×”×¦×¢×™×¨ × ×œ×”×‘ ×œ×¢×–×•×¨ ××š ×©×¤×ª ×”×œ×™×¡× ×” ×©×‘×¤×™×• ×©×•× ×” ×•××›×™×œ×” ×”×©×¤×¢×•×ª ×¨×‘×•×ª ××©×¤×ª ×”×¨×•×‘ ×”××–×•×¨×™×ª. ××” ×¢×“×™×£ ×›×¢×ª?",
            options: [
                 {
                    text: "×¢×‘×“×• ×‘×¢×™×§×¨ ×¢× ×”×“×•×‘×¨ ×”×—×•×œ×” ×›×›×œ ×”× ×™×ª×Ÿ, ×’× ×‘××—×™×¨ ×”××˜×” ××©××¢×•×ª×™×ª ×‘×§×¦×‘ ××™×¡×•×£ ×”× ×ª×•× ×™×. ×”××™×›×•×ª ×¢×“×™×¤×” ×¢×œ ×”×›××•×ª.",
                    effects: { time: -20, budget: -5, trust: +10, data: { grammar: +5, lexicon: +5 }} // Slower data collection from best source
                },
                {
                    text: "×¢×‘×“×• ×¢× ×‘×Ÿ ×”××©×¤×—×” ×”×¦×¢×™×¨. ××× × ×”× ×ª×•× ×™× ×™×”×™×• '×¤×—×•×ª ×˜×”×•×¨×™×' ××‘×—×™× ×” ×”×™×¡×˜×•×¨×™×ª, ××‘×œ ×ª×”×œ×™×š ×”×ª×™×¢×•×“ ×™×”×™×” ××”×™×¨ ×•× ×’×™×© ×™×•×ª×¨.",
                    effects: { time: -10, budget: -5, trust: +5, data: { grammar: +15, lexicon: +15, narratives: +10 }} // Faster data, but potentially less authentic
                },
                 {
                    text: "×”×©×§×™×¢×• ×–××Ÿ ×‘×”×›×©×¨×ª ×‘×Ÿ ×”××©×¤×—×” ×”×¦×¢×™×¨ ×¢×œ ×× ×ª ×©×™×•×›×œ ×œ×¢×‘×•×“ ×˜×•×‘ ×™×•×ª×¨ ×¢× ×”×“×•×‘×¨ ×”××‘×•×’×¨ ×”×—×•×œ×”, ×‘×ª×§×•×•×” ×©×™×©××¨ ××ª ××™×›×•×ª ×”× ×ª×•× ×™× ×•×™××¤×©×¨ ×”××©×š ×¢×‘×•×“×” ×‘×¢×ª×™×“.",
                    effects: { time: -25, budget: -10, trust: +15, data: {}} // High investment, potential long-term gain but immediate cost
                }
            ]
        },
         {
            context: "×”×–××Ÿ ××•×–×œ ×‘××”×™×¨×•×ª ×•×”×ª×§×¦×™×‘ ×‘×©×¤×œ. ×¢×“ ×›×” ××¡×¤×ª× ×‘×¢×™×§×¨ ××•×¦×¨ ××™×œ×™× ×•×“×•×’×××•×ª ××©×¤×˜×™× ×‘×¡×™×¡×™×•×ª. ×—×‘×¨×™ ×”×§×”×™×œ×” ××‘×§×©×™× ×©×ª×©×§×™×¢×• ××ª ×”×–××Ÿ ×•×”××©××‘×™× ×”××¢×˜×™× ×©× ×•×ª×¨×• ×‘×¤×™×ª×•×— ×—×•××¨×™ ×œ×™××•×“ ×‘×¡×™×¡×™×™× ×¢×‘×•×¨ ×”×™×œ×“×™×, ×¢×œ ×× ×ª ×œ×”×—×™×•×ª ××ª ×”×©×¤×”, ×‘××§×•× ×œ×”××©×™×š ×‘×ª×™×¢×•×“ ×“×§×“×•×§×™ ××•×¨×›×‘.",
            options: [
                {
                    text: "×”×ª×¢×œ××• ××”×‘×§×©×” ×”××™×™×“×™×ª ×•×”×ª××§×“×• ×‘×ª×™×¢×•×“ ×¢×“ ×”×¨×’×¢ ×”××—×¨×•×Ÿ, ×‘××™×•×—×“ ×¢×œ ××‘× ×™× ×“×§×“×•×§×™×™× ××•×¨×›×‘×™× ×©×¢×•×“ ×œ× ×ª×•×¢×“×•. ×–×” ×¢×œ×•×œ ×œ×¤×’×•×¢ ×‘×××•×Ÿ ×”×§×”×™×œ×” ××š ×™××§×¡× ××ª ×”×ª×™×¢×•×“ ×”××§×“××™.",
                    effects: { time: -20, budget: -10, trust: -20, data: { grammar: +25 }} // Prioritize documentation over revitalization request
                },
                {
                    text: "×”×§×¦×• ××ª ×”×–××Ÿ ×•×”××©××‘×™× ×©× ×•×ª×¨×• ×œ×™×¦×™×¨×ª ×—×•××¨×™ ×œ×™××•×“ ×‘×¡×™×¡×™×™× ×‘×©×™×ª×•×£ ×”×§×”×™×œ×”. ×¤×¢×•×œ×” ×–×• ×ª×—×–×§ ××ª ×××•×Ÿ ×”×§×”×™×œ×” ×•×ª×™×ª×Ÿ ×ª×§×•×•×” ×œ×”×—×™×™××”, ×’× ×× ×”×ª×™×¢×•×“ ×”×œ×©×•× ×™ ×œ× ×™×”×™×” ××•×©×œ×.",
                    effects: { time: -15, budget: -15, trust: +25, data: {}} // Prioritize community request and revitalization effort
                },
                 {
                    text: "× ×¡×• ×œ×©×œ×‘: ×¢×‘×“×• ×‘××”×™×¨×•×ª ×¢×œ ×ª×™×¢×•×“ ×”×“×§×“×•×§ ×”×‘×¡×™×¡×™ ×‘×™×•×ª×¨, ×•×‘××§×‘×™×œ ×¢×–×¨×• ×œ×§×”×™×œ×” ×œ×”×ª×—×™×œ ×œ×¤×ª×— ×—×•××¨×™ ×œ×™××•×“. × ×¡×• ×œ×”×©×™×’ ××ª ×›×œ ×”×¢×•×œ××•×ª, ××š ×¢×œ×•×œ×™× ×œ×”×ª×§×©×•×ª ×œ×”×¦×œ×™×— ×‘××œ×•×× ×‘××£ ××—×“ ××”×.",
                    effects: { time: -20, budget: -10, trust: +10, data: { grammar: +10 }} // Attempt to balance, may not fully succeed at either
                }
            ]
        },
        // Add more dilemmas for a richer simulation
    ];

    let currentDilemmaIndex = 0;

    const resourceMeters = {
        time: document.getElementById('time-meter'),
        budget: document.getElementById('budget-meter'),
        trust: document.getElementById('trust-meter')
    };

    const resourceValues = {
        time: document.getElementById('time-value'),
        budget: document.getElementById('budget-value'),
        trust: document.getElementById('trust-value')
    };

     const resourceChanges = {
        time: document.getElementById('time-change'),
        budget: document.getElementById('budget-change'),
        trust: document.getElementById('trust-change')
    };


    const dataDisplays = {
        grammar: document.getElementById('data-grammar'),
        lexicon: document.getElementById('data-lexicon'),
        narratives: document.getElementById('data-narratives'),
        traditionalKnowledge: document.getElementById('data-traditionalKnowledge')
    };

    const dilemmaContextDiv = document.getElementById('dilemma-context');
    const optionsDiv = document.getElementById('options');
    const summaryAreaDiv = document.getElementById('summary-area');
    const simulationAreaDiv = document.getElementById('simulation-area');
    const simulationContainer = document.querySelector('.simulation-container');


    function updateResourcesUI(animate = false, effects = {}) {
         const resourcesKeys = ['time', 'budget', 'trust'];
         resourcesKeys.forEach(key => {
             const meter = resourceMeters[key];
             const valueSpan = resourceValues[key];
             const changeSpan = resourceChanges[key];
             const effect = effects[key] || 0;

             if (animate) {
                 // Show change value animation
                 if (effect !== 0) {
                     changeSpan.textContent = (effect > 0 ? '+' : '') + effect;
                     changeSpan.className = 'resource-change show ' + (effect > 0 ? 'positive' : 'negative');
                     // Reset animation
                     void changeSpan.offsetWidth;
                     changeSpan.className = 'resource-change ' + (effect > 0 ? 'positive' : 'negative');
                     setTimeout(() => { changeSpan.classList.add('show'); }, 10); // Trigger animation
                 }

                 // Animate value text change (optional, can be done with CSS transition on span color)
                 // For a counting animation, would need more complex JS
                 valueSpan.style.transition = 'color 0.5s ease';
                 valueSpan.style.color = effect > 0 ? '#4CAF50' : (effect < 0 ? '#f44336' : '#1a237e'); // Flash color
             }

             // Update value and meter
             meter.value = resources[key];
             valueSpan.textContent = `${resources[key]}%`;

             // Update meter color based on level immediately or after animation
             meter.style.accentColor = resources[key] > 60 ? '#4CAF50' : (resources[key] > 30 ? '#ff9800' : '#f44336');

              if (animate) {
                 setTimeout(() => {
                     valueSpan.style.transition = ''; // Remove transition
                      valueSpan.style.color = '#1a237e'; // Reset color
                 }, 800); // Match animation duration
             }
         });


         // Update data display
         for (const dataType in resources.data) {
             if (dataDisplays[dataType]) {
                 dataDisplays[dataType].textContent = resources.data[dataType];
             }
         }
    }

    function displayDilemma(index) {
        if (index >= dilemmas.length || resources.time <= 0 || resources.budget <= 0 || resources.trust <= 0) {
            endSimulation();
            return;
        }

        const dilemma = dilemmas[index];
        dilemmaContextDiv.innerHTML = `<h3>×“×™×œ××” ${index + 1}:</h3><p>${dilemma.context}</p>`;
        optionsDiv.innerHTML = '';
        dilemmaContextDiv.style.animation = 'none'; // Reset animation
        void dilemmaContextDiv.offsetWidth; // Trigger reflow
        dilemmaContextDiv.style.animation = 'fadeIn 0.8s ease-out'; // Apply animation

        dilemma.options.forEach((option, optionIndex) => {
            const button = document.createElement('button');
            button.textContent = option.text;
            button.addEventListener('click', () => handleDecision(option));

            // Check if option is affordable BEFORE applying
            const canAfford = (resources.time + (option.effects.time || 0) >= 0) &&
                             (resources.budget + (option.effects.budget || 0) >= 0) &&
                             (resources.trust + (option.effects.trust || 0) >= 0);

            if (!canAfford) {
                button.disabled = true;
                //button.textContent += " (××™×Ÿ ××¡×¤×™×§ ××©××‘×™× ×œ×‘×—×™×¨×” ×–×•)"; // Optional: Add text to disabled button
            }
            optionsDiv.appendChild(button);
        });

        // Initial UI update (no animation for first display or between dilemmas)
        updateResourcesUI(false);
    }

    function handleDecision(option) {
        // Disable all buttons while processing
         Array.from(optionsDiv.children).forEach(button => button.disabled = true);

        // Apply effects for animation feedback BEFORE updating resources permanently
        const effects = option.effects; // Store effects
        updateResourcesUI(true, effects); // Animate based on potential effects

        // Apply effects to resources AFTER animation starts
        setTimeout(() => {
            resources.time = Math.max(0, resources.time + (effects.time || 0));
            resources.budget = Math.max(0, resources.budget + (effects.budget || 0));
            resources.trust = Math.max(0, resources.trust + (effects.trust || 0));

            for (const dataType in effects.data) {
                if (resources.data.hasOwnProperty(dataType)) {
                    resources.data[dataType] += (effects.data[dataType] || 0);
                }
            }

            // Update UI to final state after effects are applied
             updateResourcesUI(false); // Update final values

            // Move to next dilemma or end simulation
            currentDilemmaIndex++;
            setTimeout(() => { // Delay slightly to allow animation to show
                 displayDilemma(currentDilemmaIndex);
            }, 800); // Delay matches animation duration
        }, 500); // Small delay before applying effects and triggering next step
    }


    function endSimulation() {
        simulationAreaDiv.style.animation = 'fadeOut 0.8s ease-out forwards'; // Fade out simulation area (needs CSS fadeOut keyframe)

         // Define fadeOut keyframe if not already in CSS
        const styleSheet = document.styleSheets[0];
        const fadeOutKeyframes = `@keyframes fadeOut { from { opacity: 1; } to { opacity: 0; display: none; } }`;
        styleSheet.insertRule(fadeOutKeyframes, styleSheet.cssRules.length);


        setTimeout(() => {
             dilemmaContextDiv.style.display = 'none';
             optionsDiv.style.display = 'none';
             summaryAreaDiv.style.display = 'block';
             simulationAreaDiv.style.animation = ''; // Remove fadeOut animation
             simulationAreaDiv.style.opacity = 1; // Ensure it's visible for the summary
              summaryAreaDiv.style.animation = 'fadeIn 0.8s ease-out'; // Fade in summary
        }, 700); // Wait for fade out


        let summaryHTML = '<h3>×¡×•×£ ×”××¡×¢: ×“×•"×— ×¡×™×›×•× ×”××©×™××”</h3>';

        let gameEndedReason = '';
        if (resources.time <= 0) {
            gameEndedReason = "× ×’××¨ ×œ×›× ×”×–××Ÿ! ×”×§×¦×‘ ×”×™×” ××™×˜×™ ××“×™ ××• ×©×”×©×§×¢×ª× ×–××Ÿ ×¨×‘ ××“×™ ×‘×¤×¢×•×œ×•×ª ××¡×•×™××•×ª.";
        } else if (resources.budget <= 0) {
            gameEndedReason = "× ×’××¨ ×œ×›× ×”×ª×§×¦×™×‘! ×”×”×•×¦××•×ª ×”×™×• ×’×‘×•×”×•×ª ××“×™ ×•×œ× ×”×¦×œ×—×ª× ×œ×’×™×™×¡ ××©××‘×™× × ×•×¡×¤×™×.";
        } else if (resources.trust <= 0) {
            gameEndedReason = "××™×‘×“×ª× ××ª ×××•×Ÿ ×”×§×”×™×œ×”! ×œ×œ× ×©×™×ª×•×£ ×¤×¢×•×œ×”, ×”×ª×™×¢×•×“ ×”×¤×š ×œ×‘×œ×ª×™ ××¤×©×¨×™.";
        } else if (currentDilemmaIndex >= dilemmas.length) {
             gameEndedReason = "×”×¦×œ×—×ª× ×œ×¢×‘×•×¨ ××ª ×›×œ ×”×“×™×œ××•×ª ×‘××¡×¢ ×”×ª×™×¢×•×“!";
        }

        summaryHTML += `<p>${gameEndedReason}</p>`;


        summaryHTML += "<h4>×××–×Ÿ ×¡×•×¤×™ ×©×œ ××©××‘×™×:</h4>";
        summaryHTML += `<p>×–××Ÿ: <strong class="${resources.time > 60 ? 'result-good' : (resources.time > 30 ? 'result-fair' : 'result-poor')}">${resources.time}%</strong></p>`;
        summaryHTML += `<p>×ª×§×¦×™×‘: <strong class="${resources.budget > 60 ? 'result-good' : (resources.budget > 30 ? 'result-fair' : 'result-poor')}">${resources.budget}%</strong></p>`;
        summaryHTML += `<p>×××•×Ÿ ×§×”×™×œ×”: <strong class="${resources.trust > 60 ? 'result-good' : (resources.trust > 30 ? 'result-fair' : 'result-poor')}">${resources.trust}%</strong></p>`;

        summaryHTML += "<h4>×”×™×§×£ ×”× ×ª×•× ×™× ×©×ª×™×¢×“×ª×:</h4>";
        let totalData = 0;
        for(const type in resources.data) {
            totalData += resources.data[type];
        }

        summaryHTML += `<p>×¡×”"×› × ×§×•×“×•×ª ×ª×™×¢×•×“: <strong>${totalData}</strong></p>`;
        summaryHTML += `<p>×“×§×“×•×§: ${resources.data.grammar} | ××•×¦×¨ ××™×œ×™×: ${resources.data.lexicon} | × ×¨×˜×™×‘×™×: ${resources.data.narratives} | ×™×“×¢ ××¡×•×¨×ª×™: ${resources.data.traditionalKnowledge}</p>`;

        let dataAssessment = "";
         if (totalData < 50) {
             dataAssessment = `<span class="result-poor">×”×ª×™×¢×•×“ ×©×‘×™×¦×¢×ª× ××¦×•××¦× ×××•×“.</span> ×—×œ×§×™× ×¨×‘×™× ××”×©×¤×” ×•×”×ª×¨×‘×•×ª ×©×œ×” ××‘×“×• ×œ×œ× ×ª×™×¢×•×“.`;
         } else if (totalData < 150) {
             dataAssessment = `<span class="result-fair">××¡×¤×ª× ×›××•×ª ×¡×‘×™×¨×” ×©×œ × ×ª×•× ×™×.</span> ×™×© ×¢×“×™×™×Ÿ ×¤×¢×¨×™× ××©××¢×•×ª×™×™×, ××š ×”×‘×¡×™×¡ ×§×™×™×.`;
         } else if (totalData < 250) {
             dataAssessment = `<span class="result-good">×ª×™×¢×“×ª× ×›××•×ª × ×›×‘×“×ª ×©×œ × ×ª×•× ×™×.</span> ×™×© ×œ×›× ××¨×›×™×•×Ÿ ×˜×•×‘ ×©×™×›×•×œ ×œ×©××© ×œ×œ××™×“×” ×•××—×§×¨ ×¢×ª×™×“×™×™×.`;
         } else {
              dataAssessment = `<span class="result-excellent">×”×™×©×’ ××¨×©×™× ×‘×ª×™×¢×•×“!</span> ××¡×¤×ª× ×›××•×ª ×¢×©×™×¨×” ×•××’×•×•× ×ª ×©×œ × ×ª×•× ×™× ×œ×©×•× ×™×™× ×•×ª×¨×‘×•×ª×™×™×.`;
         }
        summaryHTML += `<p>${dataAssessment}</p>`;

        summaryHTML += "<h4>×”×©×¤×¢×ª ×”×‘×—×™×¨×•×ª ×©×œ×›× ×¢×œ ×”×¡×™×›×•×™ ×œ×©×™××•×¨:</h4>";

        let impactAssessment = "";
        if (resources.trust > 70 && totalData > 100) {
            impactAssessment = `<span class="result-excellent">×”×©×§×¢×ª× ×‘×”×¦×œ×—×” ×’× ×‘×ª×™×¢×•×“ ×•×’× ×‘×™×—×¡×™× ×¢× ×”×§×”×™×œ×”.</span> ×–×”×• ×”×‘×¡×™×¡ ×”×˜×•×‘ ×‘×™×•×ª×¨ ×”×Ÿ ×œ×ª×™×¢×•×“ ×¢×©×™×¨ ×•×”×Ÿ ×œ×©×™×ª×•×£ ×¤×¢×•×œ×” ×¢×ª×™×“×™, ××•×œ×™ ××¤×™×œ×• ×œ×”×—×™×™××ª ×”×©×¤×”!`;
        } else if (resources.trust > 50 && totalData > 50) {
            impactAssessment = `<span class="result-good">×©××¨×ª× ×¢×œ ××™×–×•×Ÿ ×¡×‘×™×¨.</span> ×™×© ×œ×›× × ×ª×•× ×™× ××ª×•×¢×“×™× ×•×™×—×¡×™× ×˜×•×‘×™× ×™×—×¡×™×ª ×¢× ×”×§×”×™×œ×”, ××” ×©××©××™×¨ ×“×œ×ª ×¤×ª×•×—×” ×œ××¤×©×¨×•×™×•×ª ×¢×ª×™×“×™×•×ª.`;
        } else if (totalData > 150) {
             impactAssessment = `<span class="result-fair">×”×ª××§×“×ª× ×‘×¢×™×§×¨ ×‘×ª×™×¢×•×“.</span> ××¡×¤×ª× × ×ª×•× ×™× ×¨×‘×™×, ××š ×××•×Ÿ ×”×§×”×™×œ×” ×”× ××•×š ×¢×œ×•×œ ×œ×”×§×©×•×ª ×¢×œ ×”×©×™××•×© ×‘×”× ××• ×¢×œ ×™×•×–××•×ª ×”×—×™×™××” ×¢×ª×™×“×™×•×ª ××¦×“ ×”×§×”×™×œ×” ×¢×¦××”.`;
        } else if (resources.trust > 50) {
            impactAssessment = `<span class="result-fair">×‘× ×™×ª× ×™×—×¡×™× ×˜×•×‘×™× ×¢× ×”×§×”×™×œ×”, ××š ×”×ª×™×¢×•×“ ××•×¢×˜.</span> ×”×§×”×™×œ×” ×¡×•××›×ª ×¢×œ×™×›×, ××š ×œ×œ× × ×ª×•× ×™× ×¨×‘×™×, ×™×”×™×” ×§×©×” ×××•×“ ×œ×‘×¦×¢ ×ª×™×¢×•×“ × ×•×¡×£ ××• ×œ×”×—×™×•×ª ××ª ×”×©×¤×” ×‘×¢×ª×™×“.`;
        }
        else {
            impactAssessment = `<span class="result-poor">×’× ×”×ª×™×¢×•×“ ×•×’× ×××•×Ÿ ×”×§×”×™×œ×” × ××•×›×™×.</span> ×œ×¦×¢×¨×™, ×¡×™×›×•×™×™ ×©×™××•×¨ ×”×©×¤×” ×‘××¦×‘ ×–×” × ××•×›×™× ×××•×“.`;
        }

        summaryHTML += `<p>${impactAssessment}</p>`;


        summaryAreaDiv.innerHTML = summaryHTML;
    }


    function toggleExplanation() {
        const explanationDiv = document.getElementById('explanation');
        const button = document.querySelector('.explanation-button');
        if (explanationDiv.style.display === 'none' || explanationDiv.style.display === '') {
            explanationDiv.style.display = 'block';
            button.textContent = '×”×¡×ª×¨×ª ×”×¡×‘×¨ × ×•×¡×£';
            explanationDiv.style.animation = 'fadeIn 0.8s ease-out';
        } else {
             explanationDiv.style.animation = 'fadeOut 0.8s ease-out forwards';
             setTimeout(() => {
                explanationDiv.style.display = 'none';
                button.textContent = '×”×¦×’×ª ×”×¡×‘×¨ × ×•×¡×£ ×¢×œ ×©×™××•×¨ ×©×¤×•×ª';
                 explanationDiv.style.animation = ''; // Reset animation
                 explanationDiv.style.opacity = 1; // Ensure it's ready for next fadeIn
             }, 700); // Match animation duration
        }
    }


    // Initial display
    displayDilemma(currentDilemmaIndex);
    updateResourcesUI(); // Initial UI state without animation

</script>
---