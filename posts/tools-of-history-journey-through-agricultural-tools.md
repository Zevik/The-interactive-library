---
title: " 砖 住专: 住注 专转拽 注拽转  拽转"
english_slug: tools-of-history-journey-through-agricultural-tools
category: "专"
tags: [ 拽转 住专, 专, 住专 砖 , 转驻转转 拽转, 注 拽转, ]
---
<div class="container">
    <h1> 砖 住专: 住注 专转拽 注拽转  拽转</h1>
    <p class="intro-text">爪 住注   转  注 砖注爪 转  转 转  驻转 转驻转转 爪爪.  转爪 转 转 转 爪 砖 转 驻 ?  专  转 专 转 驻转 转 砖 注专!</p>

    <div id="interactive-app" class="game-container">
        <div id="tool-display" class="tool-section">
            <img id="tool-image" src="" alt=" 拽 住专">
             <div id="tool-counter"></div> <!-- Added for progress -->
            <div id="score" class="score-display">拽: 0</div>
        </div>

        <div id="question-area" class="questions-section">
            <div class="question-block">
                <p class="question-title">1.  砖 ?</p>
                <div id="name-options" class="options-container"></div>
            </div>
            <div class="question-block">
                <p class="question-title">2.  转拽驻 住专转   砖砖 注拽专?</p>
                <div id="period-options" class="options-container"></div>
            </div>
            <div class="question-block">
                <p class="question-title">3.  驻拽爪 注拽专转 砖 ?</p>
                <div id="function-options" class="options-container"></div>
            </div>
        </div>

        <div class="button-area">
            <button id="submit-answer" class="game-button">拽</button>
            <button id="next-tool" class="game-button primary" style="display: none;">  >></button>
        </div>

        <div id="feedback" class="feedback-area"></div>
        <div id="tool-explanation" class="tool-explanation"></div>

        <div id="game-over" class="game-over" style="display: none;">
            <h2>住祝 砖拽! </h2>
            <p>住转 转  . 拽 住驻 砖: <span id="final-score"></span></p>
            <button id="restart-game" class="game-button primary">转 砖拽 砖</button>
        </div>
    </div>

     <div class="explanation-toggle-area">
        <button id="toggle-explanation" class="game-button secondary">爪 住专 专 注 转驻转转 拽转</button>
     </div>

    <div id="full-explanation" class="full-explanation" style="display: none;">
        <h2>住专 专:  砖 住专 砖 拽转</h2>
        <p>拽转  专拽 砖 驻拽转 ;  驻 砖注爪 砖 转  , 转 专 转 住. 注专 拽 爪 拽转 砖转 驻砖专  住, 拽转 砖 拽注, 转驻转转 砖  专转 专 转专 爪转 砖 转专转 注砖专转.</p>
        <p>转驻转转  转 转 驻砖专转  转驻转转 拽  拽转.  注 砖砖 专 转 , 驻砖专  转 注 转专 驻  注  拽砖, 拽爪专  注转 驻 转爪专转. 住专 砖  拽转  注砖 住专 砖 转驻转转 转 砖 住转转 砖转.</p>

        <h3>住拽专 转 砖 转驻转转  拽转 转拽驻转 砖转:</h3>
        <ul>
            <li><strong>转拽驻转  (驻转转, 转转):</strong> 转拽驻转 拽转 转专,  拽转  驻砖 注砖 专 : , 注抓 注爪. 转 转 拽转 驻专 驻砖 专   专注,    注爪 注  爪专  住 拽爪专  驻专  转 拽.   专砖 注 驻转 专   注转.</li>
            <li><strong>转拽驻转 专 专:</strong>  砖砖 转转  驻 砖 砖.  驻 拽 转专, 注 转专 转 注爪 拽 转专. 驻注  转转 (专 专  专) 注 转专, 专砖转 驻砖转 砖专专 转 注    专  注  转 砖 (砖专).   驻砖专 注 砖  转专  转 转驻拽.</li>
            <li><strong>注转 注转拽  :</strong> 转拽驻转  砖 砖驻专. 专 驻转 住 砖 砖 专砖转, 爪驻 专驻   驻注 专砖转  , 注  转转 驻 (moldboard) 砖  驻 转  注转 拽专拽注转 转 驻专转 砖 爪驻 专驻.  住驻  注专 砖驻专, 拽砖 专驻转 注抓  转转 住 砖砖 专.</li>
            <li><strong>注 专 拽 (专住住 注 驻 转注砖转转):</strong> 转拽驻  专转 砖驻专 专转  拽,   转转 驻转 砖 转 拽转 专转 转专,  专注 (seed drills)  专砖 拽爪专  住. 转驻转转 专 住  转 住转 驻 转注砖转转 拽转.</li>
        </ul>

        <h3>拽砖专   拽转 砖转 注 砖驻注转 注 转驻拽 拽转:</h3>
        <p> 注  专拽 砖 转 驻 注,   驻砖专 砖转 注 砖转. 专砖 驻砖专 专砖 注拽 转专 砖 转 驻专转 拽专拽注  注砖.  转转 驻砖专 拽爪专 专 注 转专, 拽砖 专驻 住注 住祝 转爪专转 转 拽专拽注.  砖驻专   专   注转 注 转驻拽转  转 砖,  砖驻砖专 拽 住转 转 转专.</p>

        <h3>砖驻注转 转驻转转  拽转 注  专 :</h3>
        <p> 转驻拽 拽转 砖专 砖驻专   注 砖驻注 注拽 注 专 . 注祝  驻砖专 拽 住 注住拽 拽爪注转 砖 拽转 (住专, 注 ,  转, 驻拽),  砖 转驻转转 注专 专 专转. 转驻转转   专砖转  , 砖专砖 住驻专 转 爪转 注, 注 砖转祝 驻注 拽转  转驻转转 拽转 拽   转专 ( 转 驻转). , 转驻转转 转 拽转 转 拽砖专 拽砖专  转拽 砖 专转,  驻.</p>

        <h3>转  拽 住驻专 住专:</h3>
        <ul>
            <li><strong>专砖:</strong>   拽 砖驻注 转专 住专. 拽 驻砖 注 专砖转 转转 专转, 专砖 驻砖专 驻 转 ,  转 专注,  注砖.  转 住住 拽转 住转 驻砖专 砖 拽注 专 拽祝.</li>
            <li><strong> 专砖:</strong> ,  (拽爪专) 专砖 (专砖)  住 拽 砖 拽转 拽住转 住专转转.  驻砖专 转 专  砖转  砖砖  注  拽 砖 驻 砖.</li>
            <li><strong>拽砖:</strong>  驻砖  专-转转, 砖砖砖 专, 注专 驻专 专  爪专, 拽砖 . 砖驻专 专  驻砖专 爪专转 拽砖 拽 拽 转专 砖注 注转 专转 砖拽 拽.</li>
        </ul>
        <p> , 砖专   驻砖,  砖  转拽驻转 砖 转 转  注 转  爪专 专转,  转 住转 注 专 砖 专.</p>
    </div>
</div>


<style>
    /* General Styles */
    .container {
        font-family: 'Arial', sans-serif;
        max-width: 800px;
        margin: 20px auto;
        padding: 0 20px; /* Add horizontal padding */
        direction: rtl;
        text-align: right;
        color: #333;
    }

    h1 {
        color: #2c3e50; /* Dark blue/grey */
        text-align: center;
        margin-bottom: 20px;
    }

    .intro-text {
        text-align: center;
        margin-bottom: 30px;
        font-size: 1.1em;
        color: #555;
    }

    /* Game Container */
    .game-container {
        background-color: #ecf0f1; /* Light grey */
        border: 1px solid #bdc3c7; /* Grey border */
        border-radius: 12px; /* More rounded corners */
        padding: 25px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        margin-bottom: 20px;
    }

    /* Tool Display Section */
    .tool-section {
        text-align: center;
        margin-bottom: 30px;
        position: relative; /* Needed for absolute positioning of counter */
    }

    #tool-image {
        max-width: 100%;
        height: auto;
        min-height: 150px; /* Ensure some space even before image loads */
        border: 1px solid #bdc3c7;
        border-radius: 8px;
        background-color: #ffffff; /* White background */
        padding: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
        transition: opacity 0.5s ease-in-out; /* Fade animation */
    }

     #tool-image.fade-in {
         opacity: 1;
     }

    #tool-counter {
        position: absolute;
        top: 15px; /* Position at top-right */
        left: 15px;
        background-color: rgba(44, 62, 80, 0.8); /* Dark background with transparency */
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.9em;
        font-weight: bold;
        z-index: 10; /* Ensure it's above the image */
    }

    .score-display {
        margin-top: 15px;
        font-size: 1.3em;
        font-weight: bold;
        color: #27ae60; /* Green for score */
        transition: color 0.3s ease; /* Smooth color transition */
    }

    /* Questions Section */
    .questions-section {
        margin-bottom: 20px;
    }

    .question-block {
        margin-bottom: 20px; /* More space between questions */
        padding: 15px;
        background-color: #ffffff; /* White background */
        border: 1px solid #dcdcdc; /* Lighter border */
        border-radius: 8px;
    }

    .question-title {
        margin-top: 0;
        margin-bottom: 12px; /* Space below title */
        font-size: 1.1em;
        font-weight: bold;
        color: #34495e; /* Darker grey/blue */
    }

    .options-container {
        display: flex;
        flex-wrap: wrap;
        gap: 10px; /* Space between option buttons */
    }

    /* Style for Radio Button Labels (as buttons) */
    .options-container label {
        background-color: #e0e0e0; /* Light grey */
        padding: 10px 15px;
        border-radius: 25px; /* Pill shape */
        cursor: pointer;
        transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #ccc;
        font-size: 1em;
        user-select: none; /* Prevent text selection */
    }

    .options-container input[type="radio"] {
        display: none; /* Hide default radio button */
    }

    .options-container input[type="radio"]:checked + label {
        background-color: #a0d468; /* Greenish */
        border-color: #8dc253; /* Darker green */
        color: #333;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    }

    .options-container label:hover {
        background-color: #d5d5d5; /* Darker grey on hover */
    }

    /* Styles for feedback on options AFTER check */
    .options-container label.correct {
        background-color: #2ecc71; /* Emerald green */
        color: white;
        border-color: #27ae60;
        font-weight: bold;
    }

     /* Apply correct style to checked AND correct label after submit */
     .options-container input[type="radio"]:checked + label.correct {
         background-color: #2ecc71; /* Ensure correct green for checked correct */
         color: white;
         border-color: #27ae60;
         font-weight: bold;
     }

    .options-container label.incorrect {
        background-color: #e74c3c; /* Alizarin red */
        color: white;
        border-color: #c0392b;
        font-weight: bold;
    }

     /* Apply incorrect style to checked AND incorrect label after submit */
      .options-container input[type="radio"]:checked + label.incorrect {
        background-color: #e74c3c; /* Ensure incorrect red for checked incorrect */
        color: white;
        border-color: #c0392b;
        font-weight: bold;
    }


    /* Button Area */
    .button-area {
        text-align: center;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    /* Game Buttons */
    .game-button {
        display: inline-block; /* Align buttons */
        padding: 12px 25px;
        font-size: 1.1em;
        cursor: pointer;
        border: none;
        border-radius: 25px; /* More rounded */
        transition: background-color 0.3s ease, transform 0.1s ease;
        font-weight: bold;
        text-decoration: none; /* For potential link-like buttons */
    }

    .game-button:hover {
        transform: translateY(-2px); /* Slight lift effect */
    }

    .game-button:active {
         transform: translateY(0); /* Press effect */
    }


    #submit-answer {
        background-color: #3498db; /* Peter river blue */
        color: white;
    }

    #submit-answer:hover {
        background-color: #2980b9; /* Darker blue */
    }

    .game-button.primary {
        background-color: #2ecc71; /* Emerald green */
        color: white;
        margin-right: 10px; /* Space between buttons if multiple */
    }

    .game-button.primary:hover {
         background-color: #27ae60; /* Darker green */
    }

     .game-button.secondary {
        background-color: #f39c12; /* Orange */
        color: white;
        margin-right: 0; /* No right margin for this button */
     }
     .game-button.secondary:hover {
        background-color: #e67e22; /* Darker orange */
     }

     .explanation-toggle-area {
         text-align: center;
         margin-top: 30px;
         margin-bottom: 30px;
     }


    /* Feedback Area */
    .feedback-area {
        margin-top: 15px;
        padding: 15px;
        border-radius: 8px;
        min-height: 1.5em; /* Reserve space */
        font-size: 1.1em;
        font-weight: bold;
        text-align: center; /* Center feedback text */
         opacity: 0; /* Start hidden */
         transition: opacity 0.5s ease-in-out; /* Fade in */
    }
     .feedback-area.visible {
         opacity: 1;
     }

    .feedback-correct {
        background-color: #d4edda; /* Light green */
        color: #155724; /* Dark green */
        border: 1px solid #c3e6cb;
    }

    .feedback-incorrect {
        background-color: #f8d7da; /* Light red */
        color: #721c24; /* Dark red */
        border: 1px solid #f5c6cb;
    }

    /* Tool Explanation */
    .tool-explanation {
        margin-top: 20px;
        padding: 15px;
        background-color: #ecf0f1; /* Light grey */
        border: 1px solid #bdc3c7;
        border-radius: 8px;
        display: none; /* Hidden initially */
        opacity: 0; /* Start hidden for animation */
        transform: translateY(10px); /* Start slightly below */
        transition: opacity 0.5s ease-out, transform 0.5s ease-out; /* Slide up and fade in */
    }

    .tool-explanation.visible {
        display: block; /* Show to apply transitions */
        opacity: 1;
        transform: translateY(0);
    }

     .tool-explanation h3 {
         margin-top: 0;
         color: #34495e;
         border-bottom: 1px solid #dcdcdc;
         padding-bottom: 5px;
         margin-bottom: 10px;
     }

    /* Game Over Screen */
    .game-over {
        text-align: center;
        margin-top: 30px;
        padding: 30px;
        background-color: #dcf0fa; /* Light blue */
        border: 1px solid #aed6f1;
        border-radius: 12px;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .game-over h2 {
        color: #2e86c1; /* Blue */
        margin-top: 0;
        margin-bottom: 15px;
    }

    .game-over p {
        font-size: 1.2em;
        margin-bottom: 20px;
    }

    #final-score {
        font-size: 1.5em;
        font-weight: bold;
        color: #27ae60; /* Green */
    }

    /* Full Explanation Section */
    .full-explanation {
        margin-top: 20px;
        padding: 25px;
        border: 1px solid #bdc3c7;
        border-radius: 12px;
        background-color: #ecf0f1;
        direction: rtl;
        text-align: right;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
        display: none; /* Hidden initially */
        opacity: 0; /* Start hidden for animation */
        transform: translateY(10px); /* Start slightly below */
        transition: opacity 0.5s ease-out, transform 0.5s ease-out; /* Slide up and fade in */
    }

     .full-explanation.visible {
        display: block; /* Show to apply transitions */
        opacity: 1;
        transform: translateY(0);
    }

    .full-explanation h2, .full-explanation h3 {
        color: #2c3e50;
        border-bottom: 1px solid #dcdcdc;
        padding-bottom: 5px;
        margin-top: 20px;
        margin-bottom: 15px;
    }

    .full-explanation ul {
        list-style-type: disc;
        margin-right: 20px;
        padding-right: 0;
        line-height: 1.6;
    }
     .full-explanation li {
        margin-bottom: 10px;
     }

    /* Responsive adjustments */
    @media (max-width: 600px) {
        .container {
            padding: 0 10px;
        }

        .game-container, .full-explanation {
            padding: 15px;
        }

        .options-container {
            flex-direction: column; /* Stack options vertically on small screens */
        }

        .options-container label {
             width: 100%; /* Make labels take full width */
             box-sizing: border-box; /* Include padding and border in width */
             text-align: center;
        }

        .game-button {
            width: 100%;
            margin-bottom: 10px;
        }

         .game-button.primary {
             margin-right: 0; /* Remove margin on small screens */
         }
         .button-area button {
             display: block; /* Stack buttons */
         }
    }
</style>

<script>
    const tools = [
        {
            image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Flint_sickle.jpg/1200px-Flint_sickle.jpg', // Example image, replace with actual tool images
            name: ' ',
            period: '转拽驻转  转转',
            function: ['拽爪专', '注 爪'],
            options: {
                name: [' ', '专砖转 注抓', '注专 专', '拽砖 转转'],
                period: ['转拽驻转 专', '转拽驻转  转转', ' ', '注 专'],
                function: ['专砖', '专注', '拽爪专', '注 爪', '砖']
            },
            explanation: '     拽爪专 专砖, 砖砖砖 拽爪专转  转拽驻 转转, 砖专 拽转  转驻转.    注砖  爪专  住 砖住 转 转 注抓  注爪. 砖砖    专砖 抓 专,   驻砖专 转 注专 拽 砖 拽爪专 砖转.'
        },
        {
            image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Reconstructed_Bronze_Age_Plough_%28arere%29.jpg/1200px-Reconstructed_Bronze_Age_Plough_%28arere%29.jpg',
            name: '专砖转 注抓 (专专)',
            period: '转拽驻转 专/专',
            function: ['专砖'],
            options: {
                name: [' 转转', '专砖转 注抓 (专专)', '注专 专', '拽砖'],
                period: ['转拽驻转 ', '注转 注转拽', '转拽驻转 专/专', '注 专'],
                function: ['专砖', '拽爪专', '砖', '砖拽']
            },
            explanation: '专砖转 注抓 驻砖,  "专专"  专砖转 砖专, 驻注 转拽驻转 专  专.  砖专 转 驻 拽专拽注 爪专 转 专 专注,  驻 转 . 专专 转 注   专  注  转 砖  砖专, 转 爪注 砖 驻砖专转 注 砖  转专 砖驻专 驻专转 拽专拽注 砖 注 .'
        },
         {
            image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/Roman_hoe_with_iron_blade_and_wooden_handle.jpg/800px-Roman_hoe_with_iron_blade_and_wooden_handle.jpg',
            name: '注专',
            period: '注转 注转拽/ ',
            function: ['注专', '砖 注砖', '住 专注'],
            options: {
                name: ['', '专砖', '注专', '专驻'],
                period: ['转拽驻转 ', '注转 注转拽/ ', '注 专 拽', '注转 砖'],
                function: ['专砖', '拽爪专', '砖', '注专', '砖 注砖', '转 ']
            },
            explanation: '注专   转拽 砖砖转砖   砖转 砖 专砖 注拽: 砖 注砖  爪, 专  注, 住 专注 专 专注, 祝  驻专 驻砖 注 拽转 拽转.  砖转 专   注爪 专,  砖驻 转 注 注 转专.'
        },
         {
            image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Sickle_and_sheaf.jpg/1200px-Sickle_and_sheaf.jpg',
            name: ' 转转',
            period: '转拽驻转 专/专 ',
            function: ['拽爪专'],
            options: {
                name: [' 转转', '拽砖', '专砖', '专驻转 转转'],
                period: ['转拽驻转 ', '转拽驻转 专/专 ', '注转 注转拽 ', '注 专 '],
                function: ['专砖', '拽爪专', '注专', '住祝 拽砖']
            },
            explanation: ' 转转, 注砖 专  专, 祝 转   住驻拽  拽爪专 注 专.   注 驻砖专 拽爪专 专 转专 砖 , 砖 住住  注专 住转 转.  砖专  驻抓 拽 拽   转 注 专.'
        },
        {
            image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Scythe.JPG/1200px-Scythe.JPG',
            name: '专砖',
            period: ' /注 专 拽',
            function: ['拽爪专'],
            options: {
                name: ['', '专砖', '专驻', '注专'],
                period: ['注转 注转拽', ' /注 专 拽', '转拽驻转 ', '注转 砖'],
                function: ['专砖', '专注', '拽爪专', '砖']
            },
            explanation: '专砖   拽爪专  转专 , 注 转 专 砖驻砖专转 拽爪专 注 拽祝 住转.  驻 驻抓   注 专 拽 拽爪专 注 转专 砖  注砖 砖 . 砖砖  专砖 转   住,  专 专  砖转 专.'
        },
         {
            image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Pitchfork_-_geograph.org.uk_-_1284623.jpg/1200px-Pitchfork_-_geograph.org.uk_-_1284623.jpg',
            name: '拽砖',
            period: ' /注 专 拽',
            function: ['转 专 专', '住祝 拽砖/爪专', '驻专 '],
            options: {
                name: ['', '拽砖', '专砖', '注专'],
                period: ['转拽驻转 ', '转拽驻转 专', ' /注 专 拽', '注转 注转拽'],
                function: ['专砖', '拽爪专', '砖', '转 专 专', '专注']
            },
            explanation: '拽砖, 注 砖 专转,    注专 驻专 砖 专 转驻专转  爪专, 拽砖  - 注转 砖转 砖转 砖拽 拽. 专住转 拽转  注砖转 注抓,  拽砖 转转 砖驻注   驻 驻爪 拽 转专 砖砖.'
        }
        // Add more tools here following the same structure if needed
    ];

    let currentToolIndex = 0;
    let score = 0;
    let shuffledTools = [];

    // Get DOM elements
    const toolImage = document.getElementById('tool-image');
    const toolCounter = document.getElementById('tool-counter'); // Get the new counter element
    const scoreDisplay = document.getElementById('score');
    const nameOptionsDiv = document.getElementById('name-options');
    const periodOptionsDiv = document.getElementById('period-options');
    const functionOptionsDiv = document.getElementById('function-options');
    const submitButton = document.getElementById('submit-answer');
    const feedbackDiv = document.getElementById('feedback');
    const toolExplanationDiv = document.getElementById('tool-explanation');
    const nextToolButton = document.getElementById('next-tool');
    const gameOverDiv = document.getElementById('game-over');
    const finalScoreSpan = document.getElementById('final-score');
    const restartButton = document.getElementById('restart-game');
    const toggleExplanationButton = document.getElementById('toggle-explanation');
    const fullExplanationDiv = document.getElementById('full-explanation');
    const questionAreaDiv = document.getElementById('question-area'); // Get question area


    function shuffleArray(array) {
        const shuffled = [...array]; // Create a copy to avoid modifying original array
        for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]]; // Swap elements
        }
        return shuffled;
    }

    function loadTool(index) {
        if (index >= shuffledTools.length) {
            endGame();
            return;
        }

        const tool = shuffledTools[index];

        // Reset elements state
        toolImage.classList.remove('fade-in'); // Remove fade-in class for next animation
        feedbackDiv.classList.remove('visible', 'feedback-correct', 'feedback-incorrect');
        feedbackDiv.textContent = '';
        toolExplanationDiv.classList.remove('visible');
        toolExplanationDiv.style.display = 'none'; // Ensure display none for transition
        submitButton.style.display = 'block';
        nextToolButton.style.display = 'none';
        gameOverDiv.style.display = 'none';
        questionAreaDiv.style.display = 'block';
        submitButton.disabled = false;

        // Set image source and animate fade-in
        toolImage.src = ''; // Clear source temporarily
        toolImage.alt = tool.name;
        setTimeout(() => { // Small delay to allow opacity transition
             toolImage.src = tool.image;
             toolImage.onload = () => { // Wait for image to load before fading in
                 toolImage.classList.add('fade-in');
             }
        }, 50);


        // Update tool counter
        toolCounter.textContent = ` ${index + 1} 转 ${shuffledTools.length}`;


        // Render options
        renderOptions(nameOptionsDiv, tool.options.name, 'name');
        renderOptions(periodOptionsDiv, tool.options.period, 'period');
        renderOptions(functionOptionsDiv, tool.options.function, 'function');


         // Re-enable radio buttons and uncheck previous selections for the new question
        document.querySelectorAll('#question-area input[type="radio"]').forEach(radio => {
             radio.disabled = false;
             radio.checked = false;
             // Also remove correct/incorrect classes from labels
             const label = document.querySelector(`label[for="${radio.id}"]`);
             if(label) {
                 label.classList.remove('correct', 'incorrect');
             }
        });
    }

    function renderOptions(container, options, groupName) {
        container.innerHTML = ''; // Clear previous options
        // Shuffle options within each category for more variety
         const shuffledOptions = shuffleArray(options);

        shuffledOptions.forEach(option => {
            const input = document.createElement('input');
            input.type = 'radio';
            // Create a safer ID, ensuring uniqueness
            const safeId = `${groupName}-${option.replace(/[^a-zA-Z0-9\u0590-\u05FF]/g, '').replace(/\s/g, '-')}-${Math.random().toString(36).substr(2, 5)}`;
            input.id = safeId;
            input.name = `${groupName}-option`;
            input.value = option;

            const label = document.createElement('label');
            label.htmlFor = input.id;
            label.textContent = option;

            container.appendChild(input);
            container.appendChild(label);
        });
    }

    function checkAnswer() {
        const currentTool = shuffledTools[currentToolIndex];

        const nameRadio = document.querySelector('input[name="name-option"]:checked');
        const periodRadio = document.querySelector('input[name="period-option"]:checked');
        const functionRadio = document.querySelector('input[name="function-option"]:checked');

        const selectedName = nameRadio?.value;
        const selectedPeriod = periodRadio?.value;
        const selectedFunction = functionRadio?.value;

        // Check if all selections were made
        if (!selectedName || !selectedPeriod || !selectedFunction) {
            feedbackDiv.textContent = ' 专 转砖  拽专转 驻 拽.';
            feedbackDiv.className = 'feedback-area feedback-incorrect visible';
            return; // Stop check if not all selected
        }

        // Check correctness
        const isNameCorrect = selectedName === currentTool.name;
        const isPeriodCorrect = selectedPeriod === currentTool.period;
        const isFunctionCorrect = currentTool.function.includes(selectedFunction);

        let totalCorrect = 0;
        if (isNameCorrect) totalCorrect++;
        if (isPeriodCorrect) totalCorrect++;
        if (isFunctionCorrect) totalCorrect++;

        let isCorrect = (totalCorrect === 3); // Full correct answer

        // Apply visual feedback to the selected options and reveal correct ones
        applyOptionFeedback(nameOptionsDiv, currentTool.name, selectedName, 'name-option');
        applyOptionFeedback(periodOptionsDiv, currentTool.period, selectedPeriod, 'period-option');
        applyOptionFeedback(functionOptionsDiv, currentTool.function, selectedFunction, 'function-option', true); // isMultiCorrect = true for function

        if (isCorrect) {
            score += 3; // Give 3 points for a fully correct answer
            feedbackDiv.textContent = ' ! 转砖转 转!';
            feedbackDiv.className = 'feedback-area feedback-correct visible';
             // Optional: Animate score change
             scoreDisplay.style.color = '#2ecc71';
             setTimeout(() => { scoreDisplay.style.color = '#27ae60'; }, 1000);
        } else {
             // Give partial points for partially correct answers
             score += totalCorrect;
            let feedbackText = `砖 砖驻专. 拽转 ${totalCorrect} 拽转. `;
             if (!isNameCorrect) feedbackText += `砖  : ${currentTool.name}. `;
             if (!isPeriodCorrect) feedbackText += `转拽驻 : ${currentTool.period}. `;
             // For function, only mention the correct ones if the selected one was wrong
             if (!isFunctionCorrect) {
                  feedbackText += `转 驻拽爪转 转: ${currentTool.function.join(', ')}.`;
             }
            feedbackDiv.textContent = feedbackText.trim();
            feedbackDiv.className = 'feedback-area feedback-incorrect visible';
             // Optional: Animate score change (e.g., pulse or color change)
             scoreDisplay.style.color = '#e74c3c';
             setTimeout(() => { scoreDisplay.style.color = '#27ae60'; }, 1000);

        }

        scoreDisplay.textContent = `拽: ${score}`;
        displayToolExplanation(currentTool.explanation);

        submitButton.style.display = 'none';
        submitButton.disabled = true; // Disable after submission
        nextToolButton.style.display = 'block';

        // Disable all radio buttons within the question area after checking
        document.querySelectorAll('#question-area input[type="radio"]').forEach(radio => {
             radio.disabled = true;
        });
    }

    function applyOptionFeedback(container, correctAnswer, selectedAnswer, groupName, isMultiCorrect = false) {
        const options = container.querySelectorAll('input[name="' + groupName + '"]');
        options.forEach(radio => {
            const label = document.querySelector(`label[for="${radio.id}"]`);
            if (!label) return; // Should not happen

            const optionValue = radio.value;

            // Check if this option is correct
            const isThisOptionCorrect = isMultiCorrect ? correctAnswer.includes(optionValue) : optionValue === correctAnswer;

            // Check if this option was selected by the user
            const isThisOptionSelected = optionValue === selectedAnswer;


            if (isThisOptionSelected) {
                // Style the selected option based on correctness
                if (isMultiCorrect ? correctAnswer.includes(selectedAnswer) : selectedAnswer === correctAnswer) {
                    label.classList.add('correct');
                } else {
                    label.classList.add('incorrect');
                }
            } else {
                // Reveal the correct answer(s) if not selected by the user
                if (isThisOptionCorrect) {
                    label.classList.add('correct'); // Mark correct answer even if not selected
                }
            }
            // Disable radio button after submission
             radio.disabled = true;
        });
    }


     function displayToolExplanation(explanation) {
        toolExplanationDiv.innerHTML = `<h3>注 :</h3><p>${explanation}</p>`;
        toolExplanationDiv.style.display = 'block'; // Set display to block before adding visible class
        // Use a timeout to allow display change to register before transition
        setTimeout(() => {
             toolExplanationDiv.classList.add('visible');
        }, 50);
    }

    function nextTool() {
        currentToolIndex++;
        loadTool(currentToolIndex);
    }

    function endGame() {
        questionAreaDiv.style.display = 'none';
        toolImage.style.display = 'none'; // Hide image on game over
        submitButton.style.display = 'none';
        nextToolButton.style.display = 'none';
        feedbackDiv.classList.remove('visible'); // Fade out feedback
        feedbackDiv.textContent = ''; // Clear feedback text
        toolExplanationDiv.classList.remove('visible'); // Fade out explanation
        toolExplanationDiv.style.display = 'none';
        scoreDisplay.style.display = 'none'; // Hide score display
        toolCounter.style.display = 'none'; // Hide counter

        finalScoreSpan.textContent = score;
        gameOverDiv.style.display = 'block'; // Show game over screen
    }

    function startGame() {
        currentToolIndex = 0;
        score = 0;
        shuffledTools = shuffleArray(tools); // Shuffle the original tools array

        scoreDisplay.textContent = `拽: ${score}`;
        scoreDisplay.style.display = 'block'; // Show score display
        toolCounter.style.display = 'block'; // Show counter
        toolImage.style.display = 'block'; // Show image
        feedbackDiv.style.display = 'block'; // Show feedback div
        gameOverDiv.style.display = 'none'; // Hide game over screen

        loadTool(currentToolIndex);
    }

    // Event Listeners
    submitButton.addEventListener('click', checkAnswer);
    nextToolButton.addEventListener('click', nextTool);
    restartButton.addEventListener('click', startGame);
    toggleExplanationButton.addEventListener('click', () => {
        const isHidden = fullExplanationDiv.classList.contains('visible');
        if (isHidden) {
             fullExplanationDiv.classList.remove('visible');
             fullExplanationDiv.style.display = 'none'; // Hide after transition
             toggleExplanationButton.textContent = '爪 住专 专 注 转驻转转 拽转';
        } else {
            fullExplanationDiv.style.display = 'block'; // Show before adding visible class
            setTimeout(() => { // Allow display change to register
                fullExplanationDiv.classList.add('visible');
            }, 50);
             toggleExplanationButton.textContent = '住转专 住专 专 注 转驻转转 拽转';
        }
    });

    // Initial setup
    // Make sure the full explanation starts hidden and ready for animation
    fullExplanationDiv.style.display = 'none';

    // Start the game on page load
    startGame();

</script>